#FORMAT=WebAnno TSV 3.3
#T_SP=de.tudarmstadt.ukp.dkpro.core.api.ner.type.NamedEntity|identifier|value


#Text=# EntQA
#Text=
#Text=This repo provides the code for our ICLR 2022 paper [EntQA: Entitly Linking as Question Answering](https://arxiv.org/pdf/2110.02369.pdf)
#Text=
#Text=## Setup
#Text=
#Text=```
#Text=conda create --name entqa python=3.8
#Text=conda activate entqa
#Text=pip install -r requirements.txt
#Text=conda install -c pytorch faiss-gpu cudatoolkit=11.0
#Text=
#Text=```
#Text=
#Text=## Download data & preprocess
#Text=All the preprocessed data can be downloaded [here](https://drive.google.com/drive/folders/1DQvfjKOuOoUE3YcYrg2GIvODaOEZXMdH?
1-1	0-1	#	_	_	
1-2	2-7	EntQA	_	_	
1-3	9-13	This	_	_	
1-4	14-18	repo	_	_	
1-5	19-27	provides	_	_	
1-6	28-31	the	_	_	
1-7	32-36	code	_	_	
1-8	37-40	for	_	_	
1-9	41-44	our	_	_	
1-10	45-49	ICLR	*[1]	CONFERENCE[1]	
1-11	50-54	2022	*[1]	CONFERENCE[1]	
1-12	55-60	paper	_	_	
1-13	61-62	[	_	_	
1-14	62-67	EntQA	*[2]	PUBLICATION[2]	
1-15	67-68	:	*[2]	PUBLICATION[2]	
1-16	69-76	Entitly	*[2]	PUBLICATION[2]	
1-17	77-84	Linking	*[2]	PUBLICATION[2]	
1-18	85-87	as	*[2]	PUBLICATION[2]	
1-19	88-96	Question	*[2]	PUBLICATION[2]	
1-20	97-106	Answering	*[2]	PUBLICATION[2]	
1-21	106-107	]	_	_	
1-22	107-108	(	_	_	
1-23	108-113	https	_	_	
1-24	113-114	:	_	_	
1-25	114-115	/	_	_	
1-26	115-116	/	_	_	
1-27	116-125	arxiv.org	_	_	
1-28	125-126	/	_	_	
1-29	126-129	pdf	_	_	
1-30	129-130	/	_	_	
1-31	130-140	2110.02369	_	_	
1-32	140-141	.	_	_	
1-33	141-144	pdf	_	_	
1-34	144-145	)	_	_	
1-35	147-148	#	_	_	
1-36	148-149	#	_	_	
1-37	150-155	Setup	_	_	
1-38	157-158	`	_	_	
1-39	158-159	`	_	_	
1-40	159-160	`	_	_	
1-41	161-166	conda	*	SOFTWARE	
1-42	167-173	create	_	_	
1-43	174-175	-	_	_	
1-44	175-176	-	_	_	
1-45	176-180	name	_	_	
1-46	181-186	entqa	_	_	
1-47	187-193	python	*[3]	PROGLANG[3]	
1-48	193-194	=	*[3]	PROGLANG[3]	
1-49	194-197	3.8	*[3]	PROGLANG[3]	
1-50	198-203	conda	*	SOFTWARE	
1-51	204-212	activate	_	_	
1-52	213-218	entqa	_	_	
1-53	219-222	pip	*	SOFTWARE	
1-54	223-230	install	_	_	
1-55	231-232	-	_	_	
1-56	232-233	r	_	_	
1-57	234-250	requirements.txt	_	_	
1-58	251-256	conda	*	SOFTWARE	
1-59	257-264	install	_	_	
1-60	265-266	-	_	_	
1-61	266-267	c	_	_	
1-62	268-275	pytorch	*	SOFTWARE	
1-63	276-285	faiss-gpu	_	_	
1-64	286-297	cudatoolkit	*[4]	SOFTWARE[4]	
1-65	297-298	=	*[4]	SOFTWARE[4]	
1-66	298-302	11.0	*[4]	SOFTWARE[4]	
1-67	304-305	`	_	_	
1-68	305-306	`	_	_	
1-69	306-307	`	_	_	
1-70	309-310	#	_	_	
1-71	310-311	#	_	_	
1-72	312-320	Download	_	_	
1-73	321-325	data	_	_	
1-74	326-327	&	_	_	
1-75	328-338	preprocess	_	_	
1-76	339-342	All	_	_	
1-77	343-346	the	_	_	
1-78	347-359	preprocessed	_	_	
1-79	360-364	data	_	_	
1-80	365-368	can	_	_	
1-81	369-371	be	_	_	
1-82	372-382	downloaded	_	_	
1-83	383-384	[	_	_	
1-84	384-388	here	_	_	
1-85	388-389	]	_	_	
1-86	389-390	(	_	_	
1-87	390-395	https	_	_	
1-88	395-396	:	_	_	
1-89	396-397	/	_	_	
1-90	397-398	/	_	_	
1-91	398-414	drive.google.com	_	_	
1-92	414-415	/	_	_	
1-93	415-420	drive	_	_	
1-94	420-421	/	_	_	
1-95	421-428	folders	_	_	
1-96	428-429	/	_	_	
1-97	429-462	1DQvfjKOuOoUE3YcYrg2GIvODaOEZXMdH	_	_	
1-98	462-463	?	_	_	

#Text=usp=sharing), you can skip following preprocess steps.
2-1	463-466	usp	_	_	
2-2	466-467	=	_	_	
2-3	467-474	sharing	_	_	
2-4	474-475	)	_	_	
2-5	475-476	,	_	_	
2-6	477-480	you	_	_	
2-7	481-484	can	_	_	
2-8	485-489	skip	_	_	
2-9	490-499	following	_	_	
2-10	500-510	preprocess	_	_	
2-11	511-516	steps	_	_	
2-12	516-517	.	_	_	

#Text=Or preprocess by yourself: 
#Text=1.
3-1	519-521	Or	_	_	
3-2	522-532	preprocess	_	_	
3-3	533-535	by	_	_	
3-4	536-544	yourself	_	_	
3-5	544-545	:	_	_	
3-6	547-548	1	_	_	
3-7	548-549	.	_	_	

#Text=Download KILT wikipedia knowledge base [here](https://github.com/facebookresearch/KILT) and put it under a kb directory like /raw_kb/  \\
#Text=2.
4-1	550-558	Download	_	_	
4-2	559-563	KILT	*	DATASET	
4-3	564-573	wikipedia	_	_	
4-4	574-583	knowledge	_	_	
4-5	584-588	base	_	_	
4-6	589-590	[	_	_	
4-7	590-594	here	_	_	
4-8	594-595	]	_	_	
4-9	595-596	(	_	_	
4-10	596-601	https	_	_	
4-11	601-602	:	_	_	
4-12	602-603	/	_	_	
4-13	603-604	/	_	_	
4-14	604-614	github.com	_	_	
4-15	614-615	/	_	_	
4-16	615-631	facebookresearch	_	_	
4-17	631-632	/	_	_	
4-18	632-636	KILT	_	_	
4-19	636-637	)	_	_	
4-20	638-641	and	_	_	
4-21	642-645	put	_	_	
4-22	646-648	it	_	_	
4-23	649-654	under	_	_	
4-24	655-656	a	_	_	
4-25	657-659	kb	_	_	
4-26	660-669	directory	_	_	
4-27	670-674	like	_	_	
4-28	675-676	/	_	_	
4-29	676-682	raw_kb	_	_	
4-30	682-683	/	_	_	
4-31	685-686	\	_	_	
4-32	687-688	2	_	_	
4-33	688-689	.	_	_	

#Text=Download BLINK pretrained retriever model [here](https://github.com/facebookresearch/BLINK)  \\
#Text=3.
5-1	690-698	Download	_	_	
5-2	699-704	BLINK	*	SOFTWARE	
5-3	705-715	pretrained	_	_	
5-4	716-725	retriever	_	_	
5-5	726-731	model	_	_	
5-6	732-733	[	_	_	
5-7	733-737	here	_	_	
5-8	737-738	]	_	_	
5-9	738-739	(	_	_	
5-10	739-744	https	_	_	
5-11	744-745	:	_	_	
5-12	745-746	/	_	_	
5-13	746-747	/	_	_	
5-14	747-757	github.com	_	_	
5-15	757-758	/	_	_	
5-16	758-774	facebookresearch	_	_	
5-17	774-775	/	_	_	
5-18	775-780	BLINK	*	SOFTWARE	
5-19	780-781	)	_	_	
5-20	783-784	\	_	_	
5-21	785-786	3	_	_	
5-22	786-787	.	_	_	

#Text=Download AIDA CoNLL datasets [here](https://www.mpi-inf.mpg.de/departments/databases-and-information-systems/research/ambiverse-nlu/aida/downloads) and place them under a raw aida directory like /raw_aida/ \\
#Text=4.
6-1	788-796	Download	_	_	
6-2	797-801	AIDA	*[5]	DATASET[5]	
6-3	802-807	CoNLL	*[5]	DATASET[5]	
6-4	808-816	datasets	_	_	
6-5	817-818	[	_	_	
6-6	818-822	here	_	_	
6-7	822-823	]	_	_	
6-8	823-824	(	_	_	
6-9	824-829	https	_	_	
6-10	829-830	:	_	_	
6-11	830-831	/	_	_	
6-12	831-832	/	_	_	
6-13	832-850	www.mpi-inf.mpg.de	_	_	
6-14	850-851	/	_	_	
6-15	851-862	departments	_	_	
6-16	862-863	/	_	_	
6-17	863-896	databases-and-information-systems	_	_	
6-18	896-897	/	_	_	
6-19	897-905	research	_	_	
6-20	905-906	/	_	_	
6-21	906-919	ambiverse-nlu	_	_	
6-22	919-920	/	_	_	
6-23	920-924	aida	_	_	
6-24	924-925	/	_	_	
6-25	925-934	downloads	_	_	
6-26	934-935	)	_	_	
6-27	936-939	and	_	_	
6-28	940-945	place	_	_	
6-29	946-950	them	_	_	
6-30	951-956	under	_	_	
6-31	957-958	a	_	_	
6-32	959-962	raw	_	_	
6-33	963-967	aida	_	_	
6-34	968-977	directory	_	_	
6-35	978-982	like	_	_	
6-36	983-984	/	_	_	
6-37	984-992	raw_aida	_	_	
6-38	992-993	/	_	_	
6-39	994-995	\	_	_	
6-40	996-997	4	_	_	
6-41	997-998	.	_	_	

#Text=Download entity title map dictionary [here](https://drive.google.com/file/d/1QE3N8S_tVkGhYz_5fjRahLHfkIwghi-4/view?
7-1	999-1007	Download	_	_	
7-2	1008-1014	entity	_	_	
7-3	1015-1020	title	_	_	
7-4	1021-1024	map	_	_	
7-5	1025-1035	dictionary	_	_	
7-6	1036-1037	[	_	_	
7-7	1037-1041	here	_	_	
7-8	1041-1042	]	_	_	
7-9	1042-1043	(	_	_	
7-10	1043-1048	https	_	_	
7-11	1048-1049	:	_	_	
7-12	1049-1050	/	_	_	
7-13	1050-1051	/	_	_	
7-14	1051-1067	drive.google.com	_	_	
7-15	1067-1068	/	_	_	
7-16	1068-1072	file	_	_	
7-17	1072-1073	/	_	_	
7-18	1073-1074	d	_	_	
7-19	1074-1075	/	_	_	
7-20	1075-1090	1QE3N8S_tVkGhYz	_	_	
7-21	1090-1091	_	_	_	
7-22	1091-1106	5fjRahLHfkIwghi	_	_	
7-23	1106-1107	-	_	_	
7-24	1107-1108	4	_	_	
7-25	1108-1109	/	_	_	
7-26	1109-1113	view	_	_	
7-27	1113-1114	?	_	_	

#Text=usp=sharing) and put it under /raw_aida/ for remapping outdated entities of AIDA datasets to KILT wikipedia entity titles \\
#Text=5. preprocess AIDA data and KILT kb by
#Text=```
#Text=python preprocess_data.py \\
#Text=--raw_dir /raw_aida/  --out_aida_dir /retriever_input/  \\
#Text=--raw_kb_path /raw_kb/[kilt wikipedia file name] --out_kb_path /kb/entities_kilt.json \\
#Text=--max_ent_len 128  --instance_length 32 --stride 16 --pos_prop 1 --title_map_dir /raw_aida/
#Text=
#Text=```
#Text=
#Text=## Train Retriever 
#Text=
#Text=Train retriever by 
#Text=```
#Text=python run_retriever.py \\
#Text=--model /model_retriever/retriever.pt  --data_dir /retriever_input/   --kb_dir /kb/ \\
#Text=--k 100 --num_cands 64  --pretrained_path /blink/BLINK/models/ --gpus 0,1,2,3  --max_len 42   \\
#Text=--mention_bsz 4096 --entity_bsz 2048  --epochs 4  --B 4  --lr 2e-6  --rands_ratio 0.9   \\
#Text=--logging_step 100 --warmup_proportion 0.2  --out_dir /reader_input/   
#Text=--gradient_accumulation_steps 2  --type_loss sum_log_nce   \\
#Text=--cands_embeds_path /candidates_embeds/candidate_embeds.npy \\
#Text=--blink  --add_topic
#Text=```
#Text=It takes 10 hours on 4 A100 GPUs to finish the retriever training experiments.
8-1	1114-1117	usp	_	_	
8-2	1117-1118	=	_	_	
8-3	1118-1125	sharing	_	_	
8-4	1125-1126	)	_	_	
8-5	1127-1130	and	_	_	
8-6	1131-1134	put	_	_	
8-7	1135-1137	it	_	_	
8-8	1138-1143	under	_	_	
8-9	1144-1145	/	_	_	
8-10	1145-1153	raw_aida	_	_	
8-11	1153-1154	/	_	_	
8-12	1155-1158	for	_	_	
8-13	1159-1168	remapping	_	_	
8-14	1169-1177	outdated	_	_	
8-15	1178-1186	entities	_	_	
8-16	1187-1189	of	_	_	
8-17	1190-1194	AIDA	*	DATASET	
8-18	1195-1203	datasets	_	_	
8-19	1204-1206	to	_	_	
8-20	1207-1211	KILT	*	DATASET	
8-21	1212-1221	wikipedia	_	_	
8-22	1222-1228	entity	_	_	
8-23	1229-1235	titles	_	_	
8-24	1236-1237	\	_	_	
8-25	1238-1239	5	_	_	
8-26	1239-1240	.	_	_	
8-27	1241-1251	preprocess	_	_	
8-28	1252-1256	AIDA	*	DATASET	
8-29	1257-1261	data	_	_	
8-30	1262-1265	and	_	_	
8-31	1266-1270	KILT	*	DATASET	
8-32	1271-1273	kb	_	_	
8-33	1274-1276	by	_	_	
8-34	1277-1278	`	_	_	
8-35	1278-1279	`	_	_	
8-36	1279-1280	`	_	_	
8-37	1281-1287	python	*	SOFTWARE	
8-38	1288-1306	preprocess_data.py	_	_	
8-39	1307-1308	\	_	_	
8-40	1309-1310	-	_	_	
8-41	1310-1311	-	_	_	
8-42	1311-1318	raw_dir	_	_	
8-43	1319-1320	/	_	_	
8-44	1320-1328	raw_aida	_	_	
8-45	1328-1329	/	_	_	
8-46	1331-1332	-	_	_	
8-47	1332-1333	-	_	_	
8-48	1333-1345	out_aida_dir	_	_	
8-49	1346-1347	/	_	_	
8-50	1347-1362	retriever_input	_	_	
8-51	1362-1363	/	_	_	
8-52	1365-1366	\	_	_	
8-53	1367-1368	-	_	_	
8-54	1368-1369	-	_	_	
8-55	1369-1380	raw_kb_path	_	_	
8-56	1381-1382	/	_	_	
8-57	1382-1388	raw_kb	_	_	
8-58	1388-1389	/	_	_	
8-59	1389-1390	[	_	_	
8-60	1390-1394	kilt	_	_	
8-61	1395-1404	wikipedia	_	_	
8-62	1405-1409	file	_	_	
8-63	1410-1414	name	_	_	
8-64	1414-1415	]	_	_	
8-65	1416-1417	-	_	_	
8-66	1417-1418	-	_	_	
8-67	1418-1429	out_kb_path	_	_	
8-68	1430-1431	/	_	_	
8-69	1431-1433	kb	_	_	
8-70	1433-1434	/	_	_	
8-71	1434-1452	entities_kilt.json	_	_	
8-72	1453-1454	\	_	_	
8-73	1455-1456	-	_	_	
8-74	1456-1457	-	_	_	
8-75	1457-1468	max_ent_len	_	_	
8-76	1469-1472	128	_	_	
8-77	1474-1475	-	_	_	
8-78	1475-1476	-	_	_	
8-79	1476-1491	instance_length	_	_	
8-80	1492-1494	32	_	_	
8-81	1495-1496	-	_	_	
8-82	1496-1497	-	_	_	
8-83	1497-1503	stride	_	_	
8-84	1504-1506	16	_	_	
8-85	1507-1508	-	_	_	
8-86	1508-1509	-	_	_	
8-87	1509-1517	pos_prop	_	_	
8-88	1518-1519	1	_	_	
8-89	1520-1521	-	_	_	
8-90	1521-1522	-	_	_	
8-91	1522-1535	title_map_dir	_	_	
8-92	1536-1537	/	_	_	
8-93	1537-1545	raw_aida	_	_	
8-94	1545-1546	/	_	_	
8-95	1548-1549	`	_	_	
8-96	1549-1550	`	_	_	
8-97	1550-1551	`	_	_	
8-98	1553-1554	#	_	_	
8-99	1554-1555	#	_	_	
8-100	1556-1561	Train	_	_	
8-101	1562-1571	Retriever	_	_	
8-102	1574-1579	Train	_	_	
8-103	1580-1589	retriever	_	_	
8-104	1590-1592	by	_	_	
8-105	1594-1595	`	_	_	
8-106	1595-1596	`	_	_	
8-107	1596-1597	`	_	_	
8-108	1598-1604	python	*	SOFTWARE	
8-109	1605-1621	run_retriever.py	_	_	
8-110	1622-1623	\	_	_	
8-111	1624-1625	-	_	_	
8-112	1625-1626	-	_	_	
8-113	1626-1631	model	_	_	
8-114	1632-1633	/	_	_	
8-115	1633-1648	model_retriever	_	_	
8-116	1648-1649	/	_	_	
8-117	1649-1661	retriever.pt	_	_	
8-118	1663-1664	-	_	_	
8-119	1664-1665	-	_	_	
8-120	1665-1673	data_dir	_	_	
8-121	1674-1675	/	_	_	
8-122	1675-1690	retriever_input	_	_	
8-123	1690-1691	/	_	_	
8-124	1694-1695	-	_	_	
8-125	1695-1696	-	_	_	
8-126	1696-1702	kb_dir	_	_	
8-127	1703-1704	/	_	_	
8-128	1704-1706	kb	_	_	
8-129	1706-1707	/	_	_	
8-130	1708-1709	\	_	_	
8-131	1710-1711	-	_	_	
8-132	1711-1712	-	_	_	
8-133	1712-1713	k	_	_	
8-134	1714-1717	100	_	_	
8-135	1718-1719	-	_	_	
8-136	1719-1720	-	_	_	
8-137	1720-1729	num_cands	_	_	
8-138	1730-1732	64	_	_	
8-139	1734-1735	-	_	_	
8-140	1735-1736	-	_	_	
8-141	1736-1751	pretrained_path	_	_	
8-142	1752-1753	/	_	_	
8-143	1753-1758	blink	_	_	
8-144	1758-1759	/	_	_	
8-145	1759-1764	BLINK	*	SOFTWARE	
8-146	1764-1765	/	_	_	
8-147	1765-1771	models	_	_	
8-148	1771-1772	/	_	_	
8-149	1773-1774	-	_	_	
8-150	1774-1775	-	_	_	
8-151	1775-1779	gpus	_	_	
8-152	1780-1787	0,1,2,3	_	_	
8-153	1789-1790	-	_	_	
8-154	1790-1791	-	_	_	
8-155	1791-1798	max_len	_	_	
8-156	1799-1801	42	_	_	
8-157	1804-1805	\	_	_	
8-158	1806-1807	-	_	_	
8-159	1807-1808	-	_	_	
8-160	1808-1819	mention_bsz	_	_	
8-161	1820-1824	4096	_	_	
8-162	1825-1826	-	_	_	
8-163	1826-1827	-	_	_	
8-164	1827-1837	entity_bsz	_	_	
8-165	1838-1842	2048	_	_	
8-166	1844-1845	-	_	_	
8-167	1845-1846	-	_	_	
8-168	1846-1852	epochs	_	_	
8-169	1853-1854	4	_	_	
8-170	1856-1857	-	_	_	
8-171	1857-1858	-	_	_	
8-172	1858-1859	B	_	_	
8-173	1860-1861	4	_	_	
8-174	1863-1864	-	_	_	
8-175	1864-1865	-	_	_	
8-176	1865-1867	lr	_	_	
8-177	1868-1870	2e	_	_	
8-178	1870-1871	-	_	_	
8-179	1871-1872	6	_	_	
8-180	1874-1875	-	_	_	
8-181	1875-1876	-	_	_	
8-182	1876-1887	rands_ratio	_	_	
8-183	1888-1891	0.9	_	_	
8-184	1894-1895	\	_	_	
8-185	1896-1897	-	_	_	
8-186	1897-1898	-	_	_	
8-187	1898-1910	logging_step	_	_	
8-188	1911-1914	100	_	_	
8-189	1915-1916	-	_	_	
8-190	1916-1917	-	_	_	
8-191	1917-1934	warmup_proportion	_	_	
8-192	1935-1938	0.2	_	_	
8-193	1940-1941	-	_	_	
8-194	1941-1942	-	_	_	
8-195	1942-1949	out_dir	_	_	
8-196	1950-1951	/	_	_	
8-197	1951-1963	reader_input	_	_	
8-198	1963-1964	/	_	_	
8-199	1968-1969	-	_	_	
8-200	1969-1970	-	_	_	
8-201	1970-1997	gradient_accumulation_steps	_	_	
8-202	1998-1999	2	_	_	
8-203	2001-2002	-	_	_	
8-204	2002-2003	-	_	_	
8-205	2003-2012	type_loss	_	_	
8-206	2013-2024	sum_log_nce	_	_	
8-207	2027-2028	\	_	_	
8-208	2029-2030	-	_	_	
8-209	2030-2031	-	_	_	
8-210	2031-2048	cands_embeds_path	_	_	
8-211	2049-2050	/	_	_	
8-212	2050-2067	candidates_embeds	_	_	
8-213	2067-2068	/	_	_	
8-214	2068-2088	candidate_embeds.npy	_	_	
8-215	2089-2090	\	_	_	
8-216	2091-2092	-	_	_	
8-217	2092-2093	-	_	_	
8-218	2093-2098	blink	_	_	
8-219	2100-2101	-	_	_	
8-220	2101-2102	-	_	_	
8-221	2102-2111	add_topic	_	_	
8-222	2112-2113	`	_	_	
8-223	2113-2114	`	_	_	
8-224	2114-2115	`	_	_	
8-225	2116-2118	It	_	_	
8-226	2119-2124	takes	_	_	
8-227	2125-2127	10	_	_	
8-228	2128-2133	hours	_	_	
8-229	2134-2136	on	_	_	
8-230	2137-2138	4	_	_	
8-231	2139-2143	A100	_	_	
8-232	2144-2148	GPUs	_	_	
8-233	2149-2151	to	_	_	
8-234	2152-2158	finish	_	_	
8-235	2159-2162	the	_	_	
8-236	2163-2172	retriever	_	_	
8-237	2173-2181	training	_	_	
8-238	2182-2193	experiments	_	_	
8-239	2193-2194	.	_	_	

#Text=It takes up 32G GPU memory for the main GPU and 23.8G GPU memory for other GPUs.
#Text=### Retriever Local Evaluation
#Text=1.
9-1	2195-2197	It	_	_	
9-2	2198-2203	takes	_	_	
9-3	2204-2206	up	_	_	
9-4	2207-2210	32G	_	_	
9-5	2211-2214	GPU	_	_	
9-6	2215-2221	memory	_	_	
9-7	2222-2225	for	_	_	
9-8	2226-2229	the	_	_	
9-9	2230-2234	main	_	_	
9-10	2235-2238	GPU	_	_	
9-11	2239-2242	and	_	_	
9-12	2243-2248	23.8G	_	_	
9-13	2249-2252	GPU	_	_	
9-14	2253-2259	memory	_	_	
9-15	2260-2263	for	_	_	
9-16	2264-2269	other	_	_	
9-17	2270-2274	GPUs	_	_	
9-18	2274-2275	.	_	_	
9-19	2276-2277	#	_	_	
9-20	2277-2278	#	_	_	
9-21	2278-2279	#	_	_	
9-22	2280-2289	Retriever	_	_	
9-23	2290-2295	Local	_	_	
9-24	2296-2306	Evaluation	_	_	
9-25	2307-2308	1	_	_	
9-26	2308-2309	.	_	_	

#Text=You can train the retriever by yourself using the above scripts to get your trained retriever and entity embeddings.
10-1	2310-2313	You	_	_	
10-2	2314-2317	can	_	_	
10-3	2318-2323	train	_	_	
10-4	2324-2327	the	_	_	
10-5	2328-2337	retriever	_	_	
10-6	2338-2340	by	_	_	
10-7	2341-2349	yourself	_	_	
10-8	2350-2355	using	_	_	
10-9	2356-2359	the	_	_	
10-10	2360-2365	above	_	_	
10-11	2366-2373	scripts	_	_	
10-12	2374-2376	to	_	_	
10-13	2377-2380	get	_	_	
10-14	2381-2385	your	_	_	
10-15	2386-2393	trained	_	_	
10-16	2394-2403	retriever	_	_	
10-17	2404-2407	and	_	_	
10-18	2408-2414	entity	_	_	
10-19	2415-2425	embeddings	_	_	
10-20	2425-2426	.	_	_	

#Text=You can also Download our trained retriever [here](https://drive.google.com/file/d/1bHS5rxGbHJ5omQ-t8rjQogw7QJq-qYFO/view?
11-1	2427-2430	You	_	_	
11-2	2431-2434	can	_	_	
11-3	2435-2439	also	_	_	
11-4	2440-2448	Download	_	_	
11-5	2449-2452	our	_	_	
11-6	2453-2460	trained	_	_	
11-7	2461-2470	retriever	_	_	
11-8	2471-2472	[	_	_	
11-9	2472-2476	here	_	_	
11-10	2476-2477	]	_	_	
11-11	2477-2478	(	_	_	
11-12	2478-2483	https	_	_	
11-13	2483-2484	:	_	_	
11-14	2484-2485	/	_	_	
11-15	2485-2486	/	_	_	
11-16	2486-2502	drive.google.com	_	_	
11-17	2502-2503	/	_	_	
11-18	2503-2507	file	_	_	
11-19	2507-2508	/	_	_	
11-20	2508-2509	d	_	_	
11-21	2509-2510	/	_	_	
11-22	2510-2543	1bHS5rxGbHJ5omQ-t8rjQogw7QJq-qYFO	_	_	
11-23	2543-2544	/	_	_	
11-24	2544-2548	view	_	_	
11-25	2548-2549	?	_	_	

#Text=usp=sharing), our cached entity embeddings [here](https://drive.google.com/file/d/1znMYd5HS80XpLpvpp_dFkQMbJiaFsQIn/view?
12-1	2549-2552	usp	_	_	
12-2	2552-2553	=	_	_	
12-3	2553-2560	sharing	_	_	
12-4	2560-2561	)	_	_	
12-5	2561-2562	,	_	_	
12-6	2563-2566	our	_	_	
12-7	2567-2573	cached	_	_	
12-8	2574-2580	entity	_	_	
12-9	2581-2591	embeddings	_	_	
12-10	2592-2593	[	_	_	
12-11	2593-2597	here	_	_	
12-12	2597-2598	]	_	_	
12-13	2598-2599	(	_	_	
12-14	2599-2604	https	_	_	
12-15	2604-2605	:	_	_	
12-16	2605-2606	/	_	_	
12-17	2606-2607	/	_	_	
12-18	2607-2623	drive.google.com	_	_	
12-19	2623-2624	/	_	_	
12-20	2624-2628	file	_	_	
12-21	2628-2629	/	_	_	
12-22	2629-2630	d	_	_	
12-23	2630-2631	/	_	_	
12-24	2631-2664	1znMYd5HS80XpLpvpp_dFkQMbJiaFsQIn	_	_	
12-25	2664-2665	/	_	_	
12-26	2665-2669	view	_	_	
12-27	2669-2670	?	_	_	

#Text=usp=sharing). 
#Text=2.
13-1	2670-2673	usp	_	_	
13-2	2673-2674	=	_	_	
13-3	2674-2681	sharing	_	_	
13-4	2681-2682	)	_	_	
13-5	2682-2683	.	_	_	
13-6	2685-2686	2	_	_	
13-7	2686-2687	.	_	_	

#Text=Use the above training scripts and set `--epochs` to be 0 for evaluation.
#Text=### Retrieval Results
#Text=| val Recall@100 | test Recall@100 | val LRAP | test LRAP | val passage-level Recall@100 | test passage-level Recall@100|
#Text=|:----------------:|:-----------------:|:----------:|:-----------:|:---------------------:|:---------------------:|
#Text=|     98.17%     |     96.62%      |  83.98%  |  82.65%   |      97.03%         |        94.59%       |
#Text=
#Text=
#Text=**Recall@k** is the percentage of total number of positive entities retrieved by the topk candidates with respect to the total number of gold entities for all the query passages. \\
#Text=**passage-level Recall@k** is the percentage of the number of passages with all the gold entities retrieved in the topk candidates with respect to the number of passages. \\
#Text=**LRAP** is [Label ranking average precision ](https://scikit-learn.org/stable/modules/generated/sklearn.metrics.label_ranking_average_precision_score.html) which measures the multi-label ranking performance.
#Text=
#Text=
#Text=
#Text=## Train Reader 
#Text=
#Text=Train reader by
#Text=
#Text=```
#Text=python run_reader.py  \\
#Text=--model /model_reader/reader.pt   --data_dir /reader_input/  \\
#Text=--C 64  --B 2  --L 180  --C_val 100  --gpus 0,1   --val_bsz 32 \\
#Text=--gradient_accumulation_steps 2  --warmup_proportion 0.06  \\
#Text=--epochs 4  --lr 1e-5 --thresd  0.05  --logging_steps 100  \\
#Text=--k 3  --stride 16 --max_passage_len 32  --filter_span  \\
#Text=--type_encoder squad2_electra_large  \\
#Text=--type_span_loss sum_log  --type_rank_loss sum_log  \\
#Text=--do_rerank  --add_topic  --results_dir /reader_results/  --kb_dir /kb/
#Text=
#Text=```
#Text=It takes about 6 hours on 2 A100 GPUs to finish the reader training experiment.
14-1	2688-2691	Use	_	_	
14-2	2692-2695	the	_	_	
14-3	2696-2701	above	_	_	
14-4	2702-2710	training	_	_	
14-5	2711-2718	scripts	_	_	
14-6	2719-2722	and	_	_	
14-7	2723-2726	set	_	_	
14-8	2727-2728	`	_	_	
14-9	2728-2729	-	_	_	
14-10	2729-2730	-	_	_	
14-11	2730-2736	epochs	_	_	
14-12	2736-2737	`	_	_	
14-13	2738-2740	to	_	_	
14-14	2741-2743	be	_	_	
14-15	2744-2745	0	_	_	
14-16	2746-2749	for	_	_	
14-17	2750-2760	evaluation	_	_	
14-18	2760-2761	.	_	_	
14-19	2762-2763	#	_	_	
14-20	2763-2764	#	_	_	
14-21	2764-2765	#	_	_	
14-22	2766-2775	Retrieval	_	_	
14-23	2776-2783	Results	_	_	
14-24	2784-2785	|	_	_	
14-25	2786-2789	val	_	_	
14-26	2790-2796	Recall	*[6]	EVALMETRIC[6]	
14-27	2796-2797	@	*[6]	EVALMETRIC[6]	
14-28	2797-2800	100	*[6]	EVALMETRIC[6]	
14-29	2801-2802	|	_	_	
14-30	2803-2807	test	_	_	
14-31	2808-2814	Recall	*[7]	EVALMETRIC[7]	
14-32	2814-2815	@	*[7]	EVALMETRIC[7]	
14-33	2815-2818	100	*[7]	EVALMETRIC[7]	
14-34	2819-2820	|	_	_	
14-35	2821-2824	val	_	_	
14-36	2825-2829	LRAP	*	EVALMETRIC	
14-37	2830-2831	|	_	_	
14-38	2832-2836	test	_	_	
14-39	2837-2841	LRAP	*	EVALMETRIC	
14-40	2842-2843	|	_	_	
14-41	2844-2847	val	_	_	
14-42	2848-2861	passage-level	*[8]	EVALMETRIC[8]	
14-43	2862-2868	Recall	*[8]	EVALMETRIC[8]	
14-44	2868-2869	@	*[8]	EVALMETRIC[8]	
14-45	2869-2872	100	*[8]	EVALMETRIC[8]	
14-46	2873-2874	|	_	_	
14-47	2875-2879	test	_	_	
14-48	2880-2893	passage-level	*[9]	EVALMETRIC[9]	
14-49	2894-2900	Recall	*[9]	EVALMETRIC[9]	
14-50	2900-2901	@	*[9]	EVALMETRIC[9]	
14-51	2901-2904	100	*[9]	EVALMETRIC[9]	
14-52	2904-2905	|	_	_	
14-53	2906-2907	|	_	_	
14-54	2907-2908	:	_	_	
14-55	2908-2909	-	_	_	
14-56	2909-2910	-	_	_	
14-57	2910-2911	-	_	_	
14-58	2911-2912	-	_	_	
14-59	2912-2913	-	_	_	
14-60	2913-2914	-	_	_	
14-61	2914-2915	-	_	_	
14-62	2915-2916	-	_	_	
14-63	2916-2917	-	_	_	
14-64	2917-2918	-	_	_	
14-65	2918-2919	-	_	_	
14-66	2919-2920	-	_	_	
14-67	2920-2921	-	_	_	
14-68	2921-2922	-	_	_	
14-69	2922-2923	-	_	_	
14-70	2923-2924	-	_	_	
14-71	2924-2925	:	_	_	
14-72	2925-2926	|	_	_	
14-73	2926-2927	:	_	_	
14-74	2927-2928	-	_	_	
14-75	2928-2929	-	_	_	
14-76	2929-2930	-	_	_	
14-77	2930-2931	-	_	_	
14-78	2931-2932	-	_	_	
14-79	2932-2933	-	_	_	
14-80	2933-2934	-	_	_	
14-81	2934-2935	-	_	_	
14-82	2935-2936	-	_	_	
14-83	2936-2937	-	_	_	
14-84	2937-2938	-	_	_	
14-85	2938-2939	-	_	_	
14-86	2939-2940	-	_	_	
14-87	2940-2941	-	_	_	
14-88	2941-2942	-	_	_	
14-89	2942-2943	-	_	_	
14-90	2943-2944	-	_	_	
14-91	2944-2945	:	_	_	
14-92	2945-2946	|	_	_	
14-93	2946-2947	:	_	_	
14-94	2947-2948	-	_	_	
14-95	2948-2949	-	_	_	
14-96	2949-2950	-	_	_	
14-97	2950-2951	-	_	_	
14-98	2951-2952	-	_	_	
14-99	2952-2953	-	_	_	
14-100	2953-2954	-	_	_	
14-101	2954-2955	-	_	_	
14-102	2955-2956	-	_	_	
14-103	2956-2957	-	_	_	
14-104	2957-2958	:	_	_	
14-105	2958-2959	|	_	_	
14-106	2959-2960	:	_	_	
14-107	2960-2961	-	_	_	
14-108	2961-2962	-	_	_	
14-109	2962-2963	-	_	_	
14-110	2963-2964	-	_	_	
14-111	2964-2965	-	_	_	
14-112	2965-2966	-	_	_	
14-113	2966-2967	-	_	_	
14-114	2967-2968	-	_	_	
14-115	2968-2969	-	_	_	
14-116	2969-2970	-	_	_	
14-117	2970-2971	-	_	_	
14-118	2971-2972	:	_	_	
14-119	2972-2973	|	_	_	
14-120	2973-2974	:	_	_	
14-121	2974-2975	-	_	_	
14-122	2975-2976	-	_	_	
14-123	2976-2977	-	_	_	
14-124	2977-2978	-	_	_	
14-125	2978-2979	-	_	_	
14-126	2979-2980	-	_	_	
14-127	2980-2981	-	_	_	
14-128	2981-2982	-	_	_	
14-129	2982-2983	-	_	_	
14-130	2983-2984	-	_	_	
14-131	2984-2985	-	_	_	
14-132	2985-2986	-	_	_	
14-133	2986-2987	-	_	_	
14-134	2987-2988	-	_	_	
14-135	2988-2989	-	_	_	
14-136	2989-2990	-	_	_	
14-137	2990-2991	-	_	_	
14-138	2991-2992	-	_	_	
14-139	2992-2993	-	_	_	
14-140	2993-2994	-	_	_	
14-141	2994-2995	-	_	_	
14-142	2995-2996	:	_	_	
14-143	2996-2997	|	_	_	
14-144	2997-2998	:	_	_	
14-145	2998-2999	-	_	_	
14-146	2999-3000	-	_	_	
14-147	3000-3001	-	_	_	
14-148	3001-3002	-	_	_	
14-149	3002-3003	-	_	_	
14-150	3003-3004	-	_	_	
14-151	3004-3005	-	_	_	
14-152	3005-3006	-	_	_	
14-153	3006-3007	-	_	_	
14-154	3007-3008	-	_	_	
14-155	3008-3009	-	_	_	
14-156	3009-3010	-	_	_	
14-157	3010-3011	-	_	_	
14-158	3011-3012	-	_	_	
14-159	3012-3013	-	_	_	
14-160	3013-3014	-	_	_	
14-161	3014-3015	-	_	_	
14-162	3015-3016	-	_	_	
14-163	3016-3017	-	_	_	
14-164	3017-3018	-	_	_	
14-165	3018-3019	-	_	_	
14-166	3019-3020	:	_	_	
14-167	3020-3021	|	_	_	
14-168	3022-3023	|	_	_	
14-169	3028-3034	98.17%	_	_	
14-170	3039-3040	|	_	_	
14-171	3045-3051	96.62%	_	_	
14-172	3057-3058	|	_	_	
14-173	3060-3066	83.98%	_	_	
14-174	3068-3069	|	_	_	
14-175	3071-3077	82.65%	_	_	
14-176	3080-3081	|	_	_	
14-177	3087-3093	97.03%	_	_	
14-178	3102-3103	|	_	_	
14-179	3111-3117	94.59%	_	_	
14-180	3124-3125	|	_	_	
14-181	3128-3129	*	_	_	
14-182	3129-3130	*	_	_	
14-183	3130-3136	Recall	*[10]	EVALMETRIC[10]	
14-184	3136-3137	@	*[10]	EVALMETRIC[10]	
14-185	3137-3138	k	*[10]	EVALMETRIC[10]	
14-186	3138-3139	*	_	_	
14-187	3139-3140	*	_	_	
14-188	3141-3143	is	_	_	
14-189	3144-3147	the	_	_	
14-190	3148-3158	percentage	_	_	
14-191	3159-3161	of	_	_	
14-192	3162-3167	total	_	_	
14-193	3168-3174	number	_	_	
14-194	3175-3177	of	_	_	
14-195	3178-3186	positive	_	_	
14-196	3187-3195	entities	_	_	
14-197	3196-3205	retrieved	_	_	
14-198	3206-3208	by	_	_	
14-199	3209-3212	the	_	_	
14-200	3213-3217	topk	_	_	
14-201	3218-3228	candidates	_	_	
14-202	3229-3233	with	_	_	
14-203	3234-3241	respect	_	_	
14-204	3242-3244	to	_	_	
14-205	3245-3248	the	_	_	
14-206	3249-3254	total	_	_	
14-207	3255-3261	number	_	_	
14-208	3262-3264	of	_	_	
14-209	3265-3269	gold	_	_	
14-210	3270-3278	entities	_	_	
14-211	3279-3282	for	_	_	
14-212	3283-3286	all	_	_	
14-213	3287-3290	the	_	_	
14-214	3291-3296	query	_	_	
14-215	3297-3305	passages	_	_	
14-216	3305-3306	.	_	_	
14-217	3307-3308	\	_	_	
14-218	3309-3310	*	_	_	
14-219	3310-3311	*	_	_	
14-220	3311-3324	passage-level	*[11]	EVALMETRIC[11]	
14-221	3325-3331	Recall	*[11]	EVALMETRIC[11]	
14-222	3331-3332	@	*[11]	EVALMETRIC[11]	
14-223	3332-3333	k	*[11]	EVALMETRIC[11]	
14-224	3333-3334	*	_	_	
14-225	3334-3335	*	_	_	
14-226	3336-3338	is	_	_	
14-227	3339-3342	the	_	_	
14-228	3343-3353	percentage	_	_	
14-229	3354-3356	of	_	_	
14-230	3357-3360	the	_	_	
14-231	3361-3367	number	_	_	
14-232	3368-3370	of	_	_	
14-233	3371-3379	passages	_	_	
14-234	3380-3384	with	_	_	
14-235	3385-3388	all	_	_	
14-236	3389-3392	the	_	_	
14-237	3393-3397	gold	_	_	
14-238	3398-3406	entities	_	_	
14-239	3407-3416	retrieved	_	_	
14-240	3417-3419	in	_	_	
14-241	3420-3423	the	_	_	
14-242	3424-3428	topk	_	_	
14-243	3429-3439	candidates	_	_	
14-244	3440-3444	with	_	_	
14-245	3445-3452	respect	_	_	
14-246	3453-3455	to	_	_	
14-247	3456-3459	the	_	_	
14-248	3460-3466	number	_	_	
14-249	3467-3469	of	_	_	
14-250	3470-3478	passages	_	_	
14-251	3478-3479	.	_	_	
14-252	3480-3481	\	_	_	
14-253	3482-3483	*	_	_	
14-254	3483-3484	*	_	_	
14-255	3484-3488	LRAP	*	EVALMETRIC	
14-256	3488-3489	*	_	_	
14-257	3489-3490	*	_	_	
14-258	3491-3493	is	_	_	
14-259	3494-3495	[	_	_	
14-260	3495-3500	Label	*[12]	EVALMETRIC[12]	
14-261	3501-3508	ranking	*[12]	EVALMETRIC[12]	
14-262	3509-3516	average	*[12]	EVALMETRIC[12]	
14-263	3517-3526	precision	*[12]	EVALMETRIC[12]	
14-264	3527-3528	]	_	_	
14-265	3528-3529	(	_	_	
14-266	3529-3534	https	_	_	
14-267	3534-3535	:	_	_	
14-268	3535-3536	/	_	_	
14-269	3536-3537	/	_	_	
14-270	3537-3553	scikit-learn.org	_	_	
14-271	3553-3554	/	_	_	
14-272	3554-3560	stable	_	_	
14-273	3560-3561	/	_	_	
14-274	3561-3568	modules	_	_	
14-275	3568-3569	/	_	_	
14-276	3569-3578	generated	_	_	
14-277	3578-3579	/	_	_	
14-278	3579-3637	sklearn.metrics.label_ranking_average_precision_score.html	_	_	
14-278.1	3595-3632	label_ranking_average_precision_score	*	EVALMETRIC	
14-279	3637-3638	)	_	_	
14-280	3639-3644	which	_	_	
14-281	3645-3653	measures	_	_	
14-282	3654-3657	the	_	_	
14-283	3658-3669	multi-label	_	_	
14-284	3670-3677	ranking	_	_	
14-285	3678-3689	performance	_	_	
14-286	3689-3690	.	_	_	
14-287	3694-3695	#	_	_	
14-288	3695-3696	#	_	_	
14-289	3697-3702	Train	_	_	
14-290	3703-3709	Reader	_	_	
14-291	3712-3717	Train	_	_	
14-292	3718-3724	reader	_	_	
14-293	3725-3727	by	_	_	
14-294	3729-3730	`	_	_	
14-295	3730-3731	`	_	_	
14-296	3731-3732	`	_	_	
14-297	3733-3739	python	*	SOFTWARE	
14-298	3740-3753	run_reader.py	_	_	
14-299	3755-3756	\	_	_	
14-300	3757-3758	-	_	_	
14-301	3758-3759	-	_	_	
14-302	3759-3764	model	_	_	
14-303	3765-3766	/	_	_	
14-304	3766-3778	model_reader	_	_	
14-305	3778-3779	/	_	_	
14-306	3779-3788	reader.pt	_	_	
14-307	3791-3792	-	_	_	
14-308	3792-3793	-	_	_	
14-309	3793-3801	data_dir	_	_	
14-310	3802-3803	/	_	_	
14-311	3803-3815	reader_input	_	_	
14-312	3815-3816	/	_	_	
14-313	3818-3819	\	_	_	
14-314	3820-3821	-	_	_	
14-315	3821-3822	-	_	_	
14-316	3822-3823	C	_	_	
14-317	3824-3826	64	_	_	
14-318	3828-3829	-	_	_	
14-319	3829-3830	-	_	_	
14-320	3830-3831	B	_	_	
14-321	3832-3833	2	_	_	
14-322	3835-3836	-	_	_	
14-323	3836-3837	-	_	_	
14-324	3837-3838	L	_	_	
14-325	3839-3842	180	_	_	
14-326	3844-3845	-	_	_	
14-327	3845-3846	-	_	_	
14-328	3846-3851	C_val	_	_	
14-329	3852-3855	100	_	_	
14-330	3857-3858	-	_	_	
14-331	3858-3859	-	_	_	
14-332	3859-3863	gpus	_	_	
14-333	3864-3867	0,1	_	_	
14-334	3870-3871	-	_	_	
14-335	3871-3872	-	_	_	
14-336	3872-3879	val_bsz	_	_	
14-337	3880-3882	32	_	_	
14-338	3883-3884	\	_	_	
14-339	3885-3886	-	_	_	
14-340	3886-3887	-	_	_	
14-341	3887-3914	gradient_accumulation_steps	_	_	
14-342	3915-3916	2	_	_	
14-343	3918-3919	-	_	_	
14-344	3919-3920	-	_	_	
14-345	3920-3937	warmup_proportion	_	_	
14-346	3938-3942	0.06	_	_	
14-347	3944-3945	\	_	_	
14-348	3946-3947	-	_	_	
14-349	3947-3948	-	_	_	
14-350	3948-3954	epochs	_	_	
14-351	3955-3956	4	_	_	
14-352	3958-3959	-	_	_	
14-353	3959-3960	-	_	_	
14-354	3960-3962	lr	_	_	
14-355	3963-3965	1e	_	_	
14-356	3965-3966	-	_	_	
14-357	3966-3967	5	_	_	
14-358	3968-3969	-	_	_	
14-359	3969-3970	-	_	_	
14-360	3970-3976	thresd	_	_	
14-361	3978-3982	0.05	_	_	
14-362	3984-3985	-	_	_	
14-363	3985-3986	-	_	_	
14-364	3986-3999	logging_steps	_	_	
14-365	4000-4003	100	_	_	
14-366	4005-4006	\	_	_	
14-367	4007-4008	-	_	_	
14-368	4008-4009	-	_	_	
14-369	4009-4010	k	_	_	
14-370	4011-4012	3	_	_	
14-371	4014-4015	-	_	_	
14-372	4015-4016	-	_	_	
14-373	4016-4022	stride	_	_	
14-374	4023-4025	16	_	_	
14-375	4026-4027	-	_	_	
14-376	4027-4028	-	_	_	
14-377	4028-4043	max_passage_len	_	_	
14-378	4044-4046	32	_	_	
14-379	4048-4049	-	_	_	
14-380	4049-4050	-	_	_	
14-381	4050-4061	filter_span	_	_	
14-382	4063-4064	\	_	_	
14-383	4065-4066	-	_	_	
14-384	4066-4067	-	_	_	
14-385	4067-4079	type_encoder	_	_	
14-386	4080-4086	squad2	_	_	
14-387	4086-4087	_	_	_	
14-388	4087-4100	electra_large	_	_	
14-389	4102-4103	\	_	_	
14-390	4104-4105	-	_	_	
14-391	4105-4106	-	_	_	
14-392	4106-4120	type_span_loss	_	_	
14-393	4121-4128	sum_log	_	_	
14-394	4130-4131	-	_	_	
14-395	4131-4132	-	_	_	
14-396	4132-4146	type_rank_loss	_	_	
14-397	4147-4154	sum_log	_	_	
14-398	4156-4157	\	_	_	
14-399	4158-4159	-	_	_	
14-400	4159-4160	-	_	_	
14-401	4160-4169	do_rerank	_	_	
14-402	4171-4172	-	_	_	
14-403	4172-4173	-	_	_	
14-404	4173-4182	add_topic	_	_	
14-405	4184-4185	-	_	_	
14-406	4185-4186	-	_	_	
14-407	4186-4197	results_dir	_	_	
14-408	4198-4199	/	_	_	
14-409	4199-4213	reader_results	_	_	
14-410	4213-4214	/	_	_	
14-411	4216-4217	-	_	_	
14-412	4217-4218	-	_	_	
14-413	4218-4224	kb_dir	_	_	
14-414	4225-4226	/	_	_	
14-415	4226-4228	kb	_	_	
14-416	4228-4229	/	_	_	
14-417	4231-4232	`	_	_	
14-418	4232-4233	`	_	_	
14-419	4233-4234	`	_	_	
14-420	4235-4237	It	_	_	
14-421	4238-4243	takes	_	_	
14-422	4244-4249	about	_	_	
14-423	4250-4251	6	_	_	
14-424	4252-4257	hours	_	_	
14-425	4258-4260	on	_	_	
14-426	4261-4262	2	_	_	
14-427	4263-4267	A100	_	_	
14-428	4268-4272	GPUs	_	_	
14-429	4273-4275	to	_	_	
14-430	4276-4282	finish	_	_	
14-431	4283-4286	the	_	_	
14-432	4287-4293	reader	_	_	
14-433	4294-4302	training	_	_	
14-434	4303-4313	experiment	_	_	
14-435	4313-4314	.	_	_	

#Text=It takes up 36G GPU memory for the main GPU and 32G GPU memory for the other GPU.
#Text=### Reader Local Evaluation
#Text=1.
15-1	4315-4317	It	_	_	
15-2	4318-4323	takes	_	_	
15-3	4324-4326	up	_	_	
15-4	4327-4330	36G	_	_	
15-5	4331-4334	GPU	_	_	
15-6	4335-4341	memory	_	_	
15-7	4342-4345	for	_	_	
15-8	4346-4349	the	_	_	
15-9	4350-4354	main	_	_	
15-10	4355-4358	GPU	_	_	
15-11	4359-4362	and	_	_	
15-12	4363-4366	32G	_	_	
15-13	4367-4370	GPU	_	_	
15-14	4371-4377	memory	_	_	
15-15	4378-4381	for	_	_	
15-16	4382-4385	the	_	_	
15-17	4386-4391	other	_	_	
15-18	4392-4395	GPU	_	_	
15-19	4395-4396	.	_	_	
15-20	4397-4398	#	_	_	
15-21	4398-4399	#	_	_	
15-22	4399-4400	#	_	_	
15-23	4401-4407	Reader	_	_	
15-24	4408-4413	Local	_	_	
15-25	4414-4424	Evaluation	_	_	
15-26	4425-4426	1	_	_	
15-27	4426-4427	.	_	_	

#Text=You can follow the above instructions to train your reader or you can download our trained reader [here](https://drive.google.com/file/d/1A4I1fJZKxmROIE1fd0mdXN6b1emP_xt4/view?
16-1	4428-4431	You	_	_	
16-2	4432-4435	can	_	_	
16-3	4436-4442	follow	_	_	
16-4	4443-4446	the	_	_	
16-5	4447-4452	above	_	_	
16-6	4453-4465	instructions	_	_	
16-7	4466-4468	to	_	_	
16-8	4469-4474	train	_	_	
16-9	4475-4479	your	_	_	
16-10	4480-4486	reader	_	_	
16-11	4487-4489	or	_	_	
16-12	4490-4493	you	_	_	
16-13	4494-4497	can	_	_	
16-14	4498-4506	download	_	_	
16-15	4507-4510	our	_	_	
16-16	4511-4518	trained	_	_	
16-17	4519-4525	reader	_	_	
16-18	4526-4527	[	_	_	
16-19	4527-4531	here	_	_	
16-20	4531-4532	]	_	_	
16-21	4532-4533	(	_	_	
16-22	4533-4538	https	_	_	
16-23	4538-4539	:	_	_	
16-24	4539-4540	/	_	_	
16-25	4540-4541	/	_	_	
16-26	4541-4557	drive.google.com	_	_	
16-27	4557-4558	/	_	_	
16-28	4558-4562	file	_	_	
16-29	4562-4563	/	_	_	
16-30	4563-4564	d	_	_	
16-31	4564-4565	/	_	_	
16-32	4565-4598	1A4I1fJZKxmROIE1fd0mdXN6b1emP_xt4	_	_	
16-33	4598-4599	/	_	_	
16-34	4599-4603	view	_	_	
16-35	4603-4604	?	_	_	

#Text=usp=sharing)
#Text=2.
17-1	4604-4607	usp	_	_	
17-2	4607-4608	=	_	_	
17-3	4608-4615	sharing	_	_	
17-4	4615-4616	)	_	_	
17-5	4617-4618	2	_	_	
17-6	4618-4619	.	_	_	

#Text=You can run retriever local evaluation for your trained retriever or our trained retriever to get reader input data.
18-1	4620-4623	You	_	_	
18-2	4624-4627	can	_	_	
18-3	4628-4631	run	_	_	
18-4	4632-4641	retriever	_	_	
18-5	4642-4647	local	_	_	
18-6	4648-4658	evaluation	_	_	
18-7	4659-4662	for	_	_	
18-8	4663-4667	your	_	_	
18-9	4668-4675	trained	_	_	
18-10	4676-4685	retriever	_	_	
18-11	4686-4688	or	_	_	
18-12	4689-4692	our	_	_	
18-13	4693-4700	trained	_	_	
18-14	4701-4710	retriever	_	_	
18-15	4711-4713	to	_	_	
18-16	4714-4717	get	_	_	
18-17	4718-4724	reader	_	_	
18-18	4725-4730	input	_	_	
18-19	4731-4735	data	_	_	
18-20	4735-4736	.	_	_	

#Text=Or you can download our reader input data [here](https://drive.google.com/drive/folders/1xfEgXCREe6pbSmAsnidsMuVYMK_mlOao?
19-1	4737-4739	Or	_	_	
19-2	4740-4743	you	_	_	
19-3	4744-4747	can	_	_	
19-4	4748-4756	download	_	_	
19-5	4757-4760	our	_	_	
19-6	4761-4767	reader	_	_	
19-7	4768-4773	input	_	_	
19-8	4774-4778	data	_	_	
19-9	4779-4780	[	_	_	
19-10	4780-4784	here	_	_	
19-11	4784-4785	]	_	_	
19-12	4785-4786	(	_	_	
19-13	4786-4791	https	_	_	
19-14	4791-4792	:	_	_	
19-15	4792-4793	/	_	_	
19-16	4793-4794	/	_	_	
19-17	4794-4810	drive.google.com	_	_	
19-18	4810-4811	/	_	_	
19-19	4811-4816	drive	_	_	
19-20	4816-4817	/	_	_	
19-21	4817-4824	folders	_	_	
19-22	4824-4825	/	_	_	
19-23	4825-4858	1xfEgXCREe6pbSmAsnidsMuVYMK_mlOao	_	_	
19-24	4858-4859	?	_	_	

#Text=usp=sharing)
#Text=3.
20-1	4859-4862	usp	_	_	
20-2	4862-4863	=	_	_	
20-3	4863-4870	sharing	_	_	
20-4	4870-4871	)	_	_	
20-5	4872-4873	3	_	_	
20-6	4873-4874	.	_	_	

#Text=Use the above reader training scripts and set `--epochs` to be 0 for evaluation.
#Text=
#Text=### Reader Results
#Text=
#Text=|   val F1  |  test F1  |  val Recall |  test Recall |  val Precision  |  test Precision  |
#Text=|:-----------:|:-----------:|:-------------:|:--------------:|:-----------------:|:------------------:|
#Text=|   87.32%  |   84.4%  |   90.23%    |    87.0%    |     84.6%      |      81.96%      |
#Text=
#Text=## GERBIL evaluation
#Text=Our GERBIL evaluation steps follow [here](https://github.com/dalab/end2end_neural_el), specifically:
#Text=1.
21-1	4875-4878	Use	_	_	
21-2	4879-4882	the	_	_	
21-3	4883-4888	above	_	_	
21-4	4889-4895	reader	_	_	
21-5	4896-4904	training	_	_	
21-6	4905-4912	scripts	_	_	
21-7	4913-4916	and	_	_	
21-8	4917-4920	set	_	_	
21-9	4921-4922	`	_	_	
21-10	4922-4923	-	_	_	
21-11	4923-4924	-	_	_	
21-12	4924-4930	epochs	_	_	
21-13	4930-4931	`	_	_	
21-14	4932-4934	to	_	_	
21-15	4935-4937	be	_	_	
21-16	4938-4939	0	_	_	
21-17	4940-4943	for	_	_	
21-18	4944-4954	evaluation	_	_	
21-19	4954-4955	.	_	_	
21-20	4957-4958	#	_	_	
21-21	4958-4959	#	_	_	
21-22	4959-4960	#	_	_	
21-23	4961-4967	Reader	_	_	
21-24	4968-4975	Results	_	_	
21-25	4977-4978	|	_	_	
21-26	4981-4984	val	_	_	
21-27	4985-4987	F1	*	EVALMETRIC	
21-28	4989-4990	|	_	_	
21-29	4992-4996	test	_	_	
21-30	4997-4999	F1	*	EVALMETRIC	
21-31	5001-5002	|	_	_	
21-32	5004-5007	val	_	_	
21-33	5008-5014	Recall	*	EVALMETRIC	
21-34	5015-5016	|	_	_	
21-35	5018-5022	test	_	_	
21-36	5023-5029	Recall	*	EVALMETRIC	
21-37	5030-5031	|	_	_	
21-38	5033-5036	val	_	_	
21-39	5037-5046	Precision	*	EVALMETRIC	
21-40	5048-5049	|	_	_	
21-41	5051-5055	test	_	_	
21-42	5056-5065	Precision	*	EVALMETRIC	
21-43	5067-5068	|	_	_	
21-44	5069-5070	|	_	_	
21-45	5070-5071	:	_	_	
21-46	5071-5072	-	_	_	
21-47	5072-5073	-	_	_	
21-48	5073-5074	-	_	_	
21-49	5074-5075	-	_	_	
21-50	5075-5076	-	_	_	
21-51	5076-5077	-	_	_	
21-52	5077-5078	-	_	_	
21-53	5078-5079	-	_	_	
21-54	5079-5080	-	_	_	
21-55	5080-5081	-	_	_	
21-56	5081-5082	-	_	_	
21-57	5082-5083	:	_	_	
21-58	5083-5084	|	_	_	
21-59	5084-5085	:	_	_	
21-60	5085-5086	-	_	_	
21-61	5086-5087	-	_	_	
21-62	5087-5088	-	_	_	
21-63	5088-5089	-	_	_	
21-64	5089-5090	-	_	_	
21-65	5090-5091	-	_	_	
21-66	5091-5092	-	_	_	
21-67	5092-5093	-	_	_	
21-68	5093-5094	-	_	_	
21-69	5094-5095	-	_	_	
21-70	5095-5096	-	_	_	
21-71	5096-5097	:	_	_	
21-72	5097-5098	|	_	_	
21-73	5098-5099	:	_	_	
21-74	5099-5100	-	_	_	
21-75	5100-5101	-	_	_	
21-76	5101-5102	-	_	_	
21-77	5102-5103	-	_	_	
21-78	5103-5104	-	_	_	
21-79	5104-5105	-	_	_	
21-80	5105-5106	-	_	_	
21-81	5106-5107	-	_	_	
21-82	5107-5108	-	_	_	
21-83	5108-5109	-	_	_	
21-84	5109-5110	-	_	_	
21-85	5110-5111	-	_	_	
21-86	5111-5112	-	_	_	
21-87	5112-5113	:	_	_	
21-88	5113-5114	|	_	_	
21-89	5114-5115	:	_	_	
21-90	5115-5116	-	_	_	
21-91	5116-5117	-	_	_	
21-92	5117-5118	-	_	_	
21-93	5118-5119	-	_	_	
21-94	5119-5120	-	_	_	
21-95	5120-5121	-	_	_	
21-96	5121-5122	-	_	_	
21-97	5122-5123	-	_	_	
21-98	5123-5124	-	_	_	
21-99	5124-5125	-	_	_	
21-100	5125-5126	-	_	_	
21-101	5126-5127	-	_	_	
21-102	5127-5128	-	_	_	
21-103	5128-5129	-	_	_	
21-104	5129-5130	:	_	_	
21-105	5130-5131	|	_	_	
21-106	5131-5132	:	_	_	
21-107	5132-5133	-	_	_	
21-108	5133-5134	-	_	_	
21-109	5134-5135	-	_	_	
21-110	5135-5136	-	_	_	
21-111	5136-5137	-	_	_	
21-112	5137-5138	-	_	_	
21-113	5138-5139	-	_	_	
21-114	5139-5140	-	_	_	
21-115	5140-5141	-	_	_	
21-116	5141-5142	-	_	_	
21-117	5142-5143	-	_	_	
21-118	5143-5144	-	_	_	
21-119	5144-5145	-	_	_	
21-120	5145-5146	-	_	_	
21-121	5146-5147	-	_	_	
21-122	5147-5148	-	_	_	
21-123	5148-5149	-	_	_	
21-124	5149-5150	:	_	_	
21-125	5150-5151	|	_	_	
21-126	5151-5152	:	_	_	
21-127	5152-5153	-	_	_	
21-128	5153-5154	-	_	_	
21-129	5154-5155	-	_	_	
21-130	5155-5156	-	_	_	
21-131	5156-5157	-	_	_	
21-132	5157-5158	-	_	_	
21-133	5158-5159	-	_	_	
21-134	5159-5160	-	_	_	
21-135	5160-5161	-	_	_	
21-136	5161-5162	-	_	_	
21-137	5162-5163	-	_	_	
21-138	5163-5164	-	_	_	
21-139	5164-5165	-	_	_	
21-140	5165-5166	-	_	_	
21-141	5166-5167	-	_	_	
21-142	5167-5168	-	_	_	
21-143	5168-5169	-	_	_	
21-144	5169-5170	-	_	_	
21-145	5170-5171	:	_	_	
21-146	5171-5172	|	_	_	
21-147	5173-5174	|	_	_	
21-148	5177-5183	87.32%	_	_	
21-149	5185-5186	|	_	_	
21-150	5189-5194	84.4%	_	_	
21-151	5196-5197	|	_	_	
21-152	5200-5206	90.23%	_	_	
21-153	5210-5211	|	_	_	
21-154	5215-5220	87.0%	_	_	
21-155	5224-5225	|	_	_	
21-156	5230-5235	84.6%	_	_	
21-157	5241-5242	|	_	_	
21-158	5248-5254	81.96%	_	_	
21-159	5260-5261	|	_	_	
21-160	5263-5264	#	_	_	
21-161	5264-5265	#	_	_	
21-162	5266-5272	GERBIL	_	_	
21-163	5273-5283	evaluation	_	_	
21-164	5284-5287	Our	_	_	
21-165	5288-5294	GERBIL	_	_	
21-166	5295-5305	evaluation	_	_	
21-167	5306-5311	steps	_	_	
21-168	5312-5318	follow	_	_	
21-169	5319-5320	[	_	_	
21-170	5320-5324	here	_	_	
21-171	5324-5325	]	_	_	
21-172	5325-5326	(	_	_	
21-173	5326-5331	https	_	_	
21-174	5331-5332	:	_	_	
21-175	5332-5333	/	_	_	
21-176	5333-5334	/	_	_	
21-177	5334-5344	github.com	_	_	
21-178	5344-5345	/	_	_	
21-179	5345-5350	dalab	_	_	
21-180	5350-5351	/	_	_	
21-181	5351-5368	end2end_neural_el	_	_	
21-182	5368-5369	)	_	_	
21-183	5369-5370	,	_	_	
21-184	5371-5383	specifically	_	_	
21-185	5383-5384	:	_	_	
21-186	5385-5386	1	_	_	
21-187	5386-5387	.	_	_	

#Text=Download our snapshot of GERBIL repo [here](https://drive.google.com/file/d/1Sp-G9631ormzIYfenCDsaWgiBPVBkF6F/view?
22-1	5388-5396	Download	_	_	
22-2	5397-5400	our	_	_	
22-3	5401-5409	snapshot	_	_	
22-4	5410-5412	of	_	_	
22-5	5413-5419	GERBIL	_	_	
22-6	5420-5424	repo	_	_	
22-7	5425-5426	[	_	_	
22-8	5426-5430	here	_	_	
22-9	5430-5431	]	_	_	
22-10	5431-5432	(	_	_	
22-11	5432-5437	https	_	_	
22-12	5437-5438	:	_	_	
22-13	5438-5439	/	_	_	
22-14	5439-5440	/	_	_	
22-15	5440-5456	drive.google.com	_	_	
22-16	5456-5457	/	_	_	
22-17	5457-5461	file	_	_	
22-18	5461-5462	/	_	_	
22-19	5462-5463	d	_	_	
22-20	5463-5464	/	_	_	
22-21	5464-5497	1Sp-G9631ormzIYfenCDsaWgiBPVBkF6F	_	_	
22-22	5497-5498	/	_	_	
22-23	5498-5502	view	_	_	
22-24	5502-5503	?	_	_	

#Text=usp=sharing), our pretrained retriever [here](https://drive.google.com/file/d/1bHS5rxGbHJ5omQ-t8rjQogw7QJq-qYFO/view?
23-1	5503-5506	usp	_	_	
23-2	5506-5507	=	_	_	
23-3	5507-5514	sharing	_	_	
23-4	5514-5515	)	_	_	
23-5	5515-5516	,	_	_	
23-6	5517-5520	our	_	_	
23-7	5521-5531	pretrained	_	_	
23-8	5532-5541	retriever	_	_	
23-9	5542-5543	[	_	_	
23-10	5543-5547	here	_	_	
23-11	5547-5548	]	_	_	
23-12	5548-5549	(	_	_	
23-13	5549-5554	https	_	_	
23-14	5554-5555	:	_	_	
23-15	5555-5556	/	_	_	
23-16	5556-5557	/	_	_	
23-17	5557-5573	drive.google.com	_	_	
23-18	5573-5574	/	_	_	
23-19	5574-5578	file	_	_	
23-20	5578-5579	/	_	_	
23-21	5579-5580	d	_	_	
23-22	5580-5581	/	_	_	
23-23	5581-5614	1bHS5rxGbHJ5omQ-t8rjQogw7QJq-qYFO	_	_	
23-24	5614-5615	/	_	_	
23-25	5615-5619	view	_	_	
23-26	5619-5620	?	_	_	

#Text=usp=sharing), our cached entities embeddings [here](https://drive.google.com/file/d/1znMYd5HS80XpLpvpp_dFkQMbJiaFsQIn/view?
24-1	5620-5623	usp	_	_	
24-2	5623-5624	=	_	_	
24-3	5624-5631	sharing	_	_	
24-4	5631-5632	)	_	_	
24-5	5632-5633	,	_	_	
24-6	5634-5637	our	_	_	
24-7	5638-5644	cached	_	_	
24-8	5645-5653	entities	_	_	
24-9	5654-5664	embeddings	_	_	
24-10	5665-5666	[	_	_	
24-11	5666-5670	here	_	_	
24-12	5670-5671	]	_	_	
24-13	5671-5672	(	_	_	
24-14	5672-5677	https	_	_	
24-15	5677-5678	:	_	_	
24-16	5678-5679	/	_	_	
24-17	5679-5680	/	_	_	
24-18	5680-5696	drive.google.com	_	_	
24-19	5696-5697	/	_	_	
24-20	5697-5701	file	_	_	
24-21	5701-5702	/	_	_	
24-22	5702-5703	d	_	_	
24-23	5703-5704	/	_	_	
24-24	5704-5737	1znMYd5HS80XpLpvpp_dFkQMbJiaFsQIn	_	_	
24-25	5737-5738	/	_	_	
24-26	5738-5742	view	_	_	
24-27	5742-5743	?	_	_	

#Text=usp=sharing) and our pretrained reader [here](https://drive.google.com/file/d/1A4I1fJZKxmROIE1fd0mdXN6b1emP_xt4/view?
25-1	5743-5746	usp	_	_	
25-2	5746-5747	=	_	_	
25-3	5747-5754	sharing	_	_	
25-4	5754-5755	)	_	_	
25-5	5756-5759	and	_	_	
25-6	5760-5763	our	_	_	
25-7	5764-5774	pretrained	_	_	
25-8	5775-5781	reader	_	_	
25-9	5782-5783	[	_	_	
25-10	5783-5787	here	_	_	
25-11	5787-5788	]	_	_	
25-12	5788-5789	(	_	_	
25-13	5789-5794	https	_	_	
25-14	5794-5795	:	_	_	
25-15	5795-5796	/	_	_	
25-16	5796-5797	/	_	_	
25-17	5797-5813	drive.google.com	_	_	
25-18	5813-5814	/	_	_	
25-19	5814-5818	file	_	_	
25-20	5818-5819	/	_	_	
25-21	5819-5820	d	_	_	
25-22	5820-5821	/	_	_	
25-23	5821-5854	1A4I1fJZKxmROIE1fd0mdXN6b1emP_xt4	_	_	
25-24	5854-5855	/	_	_	
25-25	5855-5859	view	_	_	
25-26	5859-5860	?	_	_	

#Text=usp=sharing)
#Text=2.
26-1	5860-5863	usp	_	_	
26-2	5863-5864	=	_	_	
26-3	5864-5871	sharing	_	_	
26-4	5871-5872	)	_	_	
26-5	5873-5874	2	_	_	
26-6	5874-5875	.	_	_	

#Text=One one terminal/screen run GERBIL by:
#Text=```
#Text=cd gerbil
#Text=.
27-1	5876-5879	One	_	_	
27-2	5880-5883	one	_	_	
27-3	5884-5892	terminal	*	SOFTWARE	
27-4	5892-5893	/	_	_	
27-5	5893-5899	screen	_	_	
27-6	5900-5903	run	_	_	
27-7	5904-5910	GERBIL	*	SOFTWARE	
27-8	5911-5913	by	_	_	
27-9	5913-5914	:	_	_	
27-10	5915-5916	`	_	_	
27-11	5916-5917	`	_	_	
27-12	5917-5918	`	_	_	
27-13	5919-5921	cd	_	_	
27-14	5922-5928	gerbil	_	_	
27-15	5929-5930	.	_	_	

#Text=/start.sh
#Text=
#Text=```
#Text=3.
28-1	5930-5931	/	_	_	
28-2	5931-5939	start.sh	_	_	
28-3	5941-5942	`	_	_	
28-4	5942-5943	`	_	_	
28-5	5943-5944	`	_	_	
28-6	5945-5946	3	_	_	
28-7	5946-5947	.	_	_	

#Text=On another terminal/screen run:
#Text=```
#Text=cd gerbil-SpotWrapNifWS4Test/
#Text=mvn clean -Dmaven.tomcat.port=1235 tomcat:run
#Text=
#Text=```
#Text=4.
29-1	5948-5950	On	_	_	
29-2	5951-5958	another	_	_	
29-3	5959-5967	terminal	*	SOFTWARE	
29-4	5967-5968	/	_	_	
29-5	5968-5974	screen	_	_	
29-6	5975-5978	run	_	_	
29-7	5978-5979	:	_	_	
29-8	5980-5981	`	_	_	
29-9	5981-5982	`	_	_	
29-10	5982-5983	`	_	_	
29-11	5984-5986	cd	_	_	
29-12	5987-6012	gerbil-SpotWrapNifWS4Test	_	_	
29-13	6012-6013	/	_	_	
29-14	6014-6017	mvn	_	_	
29-15	6018-6023	clean	_	_	
29-16	6024-6025	-	_	_	
29-17	6025-6043	Dmaven.tomcat.port	_	_	
29-18	6043-6044	=	_	_	
29-19	6044-6048	1235	_	_	
29-20	6049-6055	tomcat	_	_	
29-21	6055-6056	:	_	_	
29-22	6056-6059	run	_	_	
29-23	6061-6062	`	_	_	
29-24	6062-6063	`	_	_	
29-25	6063-6064	`	_	_	
29-26	6065-6066	4	_	_	
29-27	6066-6067	.	_	_	

#Text=On a third terminal/screen run:
#Text=```
#Text=python gerbil_experiments/server.py  \\
#Text=--gpus 0,1,2,3  --log_path  /logs/log.txt --blink_dir //blink_model/  \\
#Text=--retriever_path /model_retriever/retriever.pt   \\
#Text=--cands_embeds_path /candidates_embeds/candidate_embeds.npy   \\
#Text=--ents_path /kb/entities_kilt.json  \\
#Text=--reader_path /model_reader/reader.pt   \\
#Text=--add_topic  --do_rerank  --bsz_retriever 8192  
#Text=
#Text=```
#Text=Open the url http://localhost:1234/gerbil
#Text=- Configure experiment
#Text=- Select A2KB as experiment type
#Text=- Select strong evaluation as Matching
#Text=- In URI field write: http://localhost:1235/gerbil-spotWrapNifWS4Test/myalgorithm
#Text=- Name: whatever you wish
#Text=- Press add annotator button
#Text=- Select the datasets that you want to evaluate the model on
#Text=- Run experiment
#Text=
#Text=### GERBIL Results
#Text=| AIDA testb| MSNBC| Der|K50|R128|R500|OKE15|OKE16|AVG|
#Text=|:---------:|:--------:|:----:|:---:|:----:|:----:|:-----:|:-----:|:----:|
#Text=|85.82%|72.09%|52.85%|64.46%|54.05%|41.93%|61.10%|51.34%|60.46%|
30-1	6068-6070	On	_	_	
30-2	6071-6072	a	_	_	
30-3	6073-6078	third	_	_	
30-4	6079-6087	terminal	*	SOFTWARE	
30-5	6087-6088	/	_	_	
30-6	6088-6094	screen	_	_	
30-7	6095-6098	run	_	_	
30-8	6098-6099	:	_	_	
30-9	6100-6101	`	_	_	
30-10	6101-6102	`	_	_	
30-11	6102-6103	`	_	_	
30-12	6104-6110	python	*	SOFTWARE	
30-13	6111-6129	gerbil_experiments	_	_	
30-14	6129-6130	/	_	_	
30-15	6130-6139	server.py	_	_	
30-16	6141-6142	\	_	_	
30-17	6143-6144	-	_	_	
30-18	6144-6145	-	_	_	
30-19	6145-6149	gpus	_	_	
30-20	6150-6157	0,1,2,3	_	_	
30-21	6159-6160	-	_	_	
30-22	6160-6161	-	_	_	
30-23	6161-6169	log_path	_	_	
30-24	6171-6172	/	_	_	
30-25	6172-6176	logs	_	_	
30-26	6176-6177	/	_	_	
30-27	6177-6184	log.txt	_	_	
30-28	6185-6186	-	_	_	
30-29	6186-6187	-	_	_	
30-30	6187-6196	blink_dir	_	_	
30-31	6197-6198	/	_	_	
30-32	6198-6199	/	_	_	
30-33	6199-6210	blink_model	_	_	
30-34	6210-6211	/	_	_	
30-35	6213-6214	\	_	_	
30-36	6215-6216	-	_	_	
30-37	6216-6217	-	_	_	
30-38	6217-6231	retriever_path	_	_	
30-39	6232-6233	/	_	_	
30-40	6233-6248	model_retriever	_	_	
30-41	6248-6249	/	_	_	
30-42	6249-6261	retriever.pt	_	_	
30-43	6264-6265	\	_	_	
30-44	6266-6267	-	_	_	
30-45	6267-6268	-	_	_	
30-46	6268-6285	cands_embeds_path	_	_	
30-47	6286-6287	/	_	_	
30-48	6287-6304	candidates_embeds	_	_	
30-49	6304-6305	/	_	_	
30-50	6305-6325	candidate_embeds.npy	_	_	
30-51	6328-6329	\	_	_	
30-52	6330-6331	-	_	_	
30-53	6331-6332	-	_	_	
30-54	6332-6341	ents_path	_	_	
30-55	6342-6343	/	_	_	
30-56	6343-6345	kb	_	_	
30-57	6345-6346	/	_	_	
30-58	6346-6364	entities_kilt.json	_	_	
30-59	6366-6367	\	_	_	
30-60	6368-6369	-	_	_	
30-61	6369-6370	-	_	_	
30-62	6370-6381	reader_path	_	_	
30-63	6382-6383	/	_	_	
30-64	6383-6395	model_reader	_	_	
30-65	6395-6396	/	_	_	
30-66	6396-6405	reader.pt	_	_	
30-67	6408-6409	\	_	_	
30-68	6410-6411	-	_	_	
30-69	6411-6412	-	_	_	
30-70	6412-6421	add_topic	_	_	
30-71	6423-6424	-	_	_	
30-72	6424-6425	-	_	_	
30-73	6425-6434	do_rerank	_	_	
30-74	6436-6437	-	_	_	
30-75	6437-6438	-	_	_	
30-76	6438-6451	bsz_retriever	_	_	
30-77	6452-6456	8192	_	_	
30-78	6460-6461	`	_	_	
30-79	6461-6462	`	_	_	
30-80	6462-6463	`	_	_	
30-81	6464-6468	Open	_	_	
30-82	6469-6472	the	_	_	
30-83	6473-6476	url	_	_	
30-84	6477-6481	http	_	_	
30-85	6481-6482	:	_	_	
30-86	6482-6483	/	_	_	
30-87	6483-6484	/	_	_	
30-88	6484-6493	localhost	_	_	
30-89	6493-6494	:	_	_	
30-90	6494-6498	1234	_	_	
30-91	6498-6499	/	_	_	
30-92	6499-6505	gerbil	_	_	
30-93	6506-6507	-	_	_	
30-94	6508-6517	Configure	_	_	
30-95	6518-6528	experiment	_	_	
30-96	6529-6530	-	_	_	
30-97	6531-6537	Select	_	_	
30-98	6538-6542	A2KB	_	_	
30-99	6543-6545	as	_	_	
30-100	6546-6556	experiment	_	_	
30-101	6557-6561	type	_	_	
30-102	6562-6563	-	_	_	
30-103	6564-6570	Select	_	_	
30-104	6571-6577	strong	_	_	
30-105	6578-6588	evaluation	_	_	
30-106	6589-6591	as	_	_	
30-107	6592-6600	Matching	_	_	
30-108	6601-6602	-	_	_	
30-109	6603-6605	In	_	_	
30-110	6606-6609	URI	_	_	
30-111	6610-6615	field	_	_	
30-112	6616-6621	write	_	_	
30-113	6621-6622	:	_	_	
30-114	6623-6627	http	_	_	
30-115	6627-6628	:	_	_	
30-116	6628-6629	/	_	_	
30-117	6629-6630	/	_	_	
30-118	6630-6639	localhost	_	_	
30-119	6639-6640	:	_	_	
30-120	6640-6644	1235	_	_	
30-121	6644-6645	/	_	_	
30-122	6645-6670	gerbil-spotWrapNifWS4Test	_	_	
30-123	6670-6671	/	_	_	
30-124	6671-6682	myalgorithm	_	_	
30-125	6683-6684	-	_	_	
30-126	6685-6689	Name	_	_	
30-127	6689-6690	:	_	_	
30-128	6691-6699	whatever	_	_	
30-129	6700-6703	you	_	_	
30-130	6704-6708	wish	_	_	
30-131	6709-6710	-	_	_	
30-132	6711-6716	Press	_	_	
30-133	6717-6720	add	_	_	
30-134	6721-6730	annotator	_	_	
30-135	6731-6737	button	_	_	
30-136	6738-6739	-	_	_	
30-137	6740-6746	Select	_	_	
30-138	6747-6750	the	_	_	
30-139	6751-6759	datasets	_	_	
30-140	6760-6764	that	_	_	
30-141	6765-6768	you	_	_	
30-142	6769-6773	want	_	_	
30-143	6774-6776	to	_	_	
30-144	6777-6785	evaluate	_	_	
30-145	6786-6789	the	_	_	
30-146	6790-6795	model	_	_	
30-147	6796-6798	on	_	_	
30-148	6799-6800	-	_	_	
30-149	6801-6804	Run	_	_	
30-150	6805-6815	experiment	_	_	
30-151	6817-6818	#	_	_	
30-152	6818-6819	#	_	_	
30-153	6819-6820	#	_	_	
30-154	6821-6827	GERBIL	_	_	
30-155	6828-6835	Results	_	_	
30-156	6836-6837	|	_	_	
30-157	6838-6842	AIDA	*[13]	DATASET[13]	
30-158	6843-6848	testb	*[13]	DATASET[13]	
30-159	6848-6849	|	_	_	
30-160	6850-6855	MSNBC	*	DATASET	
30-161	6855-6856	|	_	_	
30-162	6857-6860	Der	*	DATASET	
30-163	6860-6861	|	_	_	
30-164	6861-6864	K50	*	DATASET	
30-165	6864-6865	|	_	_	
30-166	6865-6869	R128	*	DATASET	
30-167	6869-6870	|	_	_	
30-168	6870-6874	R500	*	DATASET	
30-169	6874-6875	|	_	_	
30-170	6875-6880	OKE15	*	DATASET	
30-171	6880-6881	|	_	_	
30-172	6881-6886	OKE16	*	DATASET	
30-173	6886-6887	|	_	_	
30-174	6887-6890	AVG	_	_	
30-175	6890-6891	|	_	_	
30-176	6892-6893	|	_	_	
30-177	6893-6894	:	_	_	
30-178	6894-6895	-	_	_	
30-179	6895-6896	-	_	_	
30-180	6896-6897	-	_	_	
30-181	6897-6898	-	_	_	
30-182	6898-6899	-	_	_	
30-183	6899-6900	-	_	_	
30-184	6900-6901	-	_	_	
30-185	6901-6902	-	_	_	
30-186	6902-6903	-	_	_	
30-187	6903-6904	:	_	_	
30-188	6904-6905	|	_	_	
30-189	6905-6906	:	_	_	
30-190	6906-6907	-	_	_	
30-191	6907-6908	-	_	_	
30-192	6908-6909	-	_	_	
30-193	6909-6910	-	_	_	
30-194	6910-6911	-	_	_	
30-195	6911-6912	-	_	_	
30-196	6912-6913	-	_	_	
30-197	6913-6914	-	_	_	
30-198	6914-6915	:	_	_	
30-199	6915-6916	|	_	_	
30-200	6916-6917	:	_	_	
30-201	6917-6918	-	_	_	
30-202	6918-6919	-	_	_	
30-203	6919-6920	-	_	_	
30-204	6920-6921	-	_	_	
30-205	6921-6922	:	_	_	
30-206	6922-6923	|	_	_	
30-207	6923-6924	:	_	_	
30-208	6924-6925	-	_	_	
30-209	6925-6926	-	_	_	
30-210	6926-6927	-	_	_	
30-211	6927-6928	:	_	_	
30-212	6928-6929	|	_	_	
30-213	6929-6930	:	_	_	
30-214	6930-6931	-	_	_	
30-215	6931-6932	-	_	_	
30-216	6932-6933	-	_	_	
30-217	6933-6934	-	_	_	
30-218	6934-6935	:	_	_	
30-219	6935-6936	|	_	_	
30-220	6936-6937	:	_	_	
30-221	6937-6938	-	_	_	
30-222	6938-6939	-	_	_	
30-223	6939-6940	-	_	_	
30-224	6940-6941	-	_	_	
30-225	6941-6942	:	_	_	
30-226	6942-6943	|	_	_	
30-227	6943-6944	:	_	_	
30-228	6944-6945	-	_	_	
30-229	6945-6946	-	_	_	
30-230	6946-6947	-	_	_	
30-231	6947-6948	-	_	_	
30-232	6948-6949	-	_	_	
30-233	6949-6950	:	_	_	
30-234	6950-6951	|	_	_	
30-235	6951-6952	:	_	_	
30-236	6952-6953	-	_	_	
30-237	6953-6954	-	_	_	
30-238	6954-6955	-	_	_	
30-239	6955-6956	-	_	_	
30-240	6956-6957	-	_	_	
30-241	6957-6958	:	_	_	
30-242	6958-6959	|	_	_	
30-243	6959-6960	:	_	_	
30-244	6960-6961	-	_	_	
30-245	6961-6962	-	_	_	
30-246	6962-6963	-	_	_	
30-247	6963-6964	-	_	_	
30-248	6964-6965	:	_	_	
30-249	6965-6966	|	_	_	
30-250	6967-6968	|	_	_	
30-251	6968-6974	85.82%	_	_	
30-252	6974-6975	|	_	_	
30-253	6975-6981	72.09%	_	_	
30-254	6981-6982	|	_	_	
30-255	6982-6988	52.85%	_	_	
30-256	6988-6989	|	_	_	
30-257	6989-6995	64.46%	_	_	
30-258	6995-6996	|	_	_	
30-259	6996-7002	54.05%	_	_	
30-260	7002-7003	|	_	_	
30-261	7003-7009	41.93%	_	_	
30-262	7009-7010	|	_	_	
30-263	7010-7016	61.10%	_	_	
30-264	7016-7017	|	_	_	
30-265	7017-7023	51.34%	_	_	
30-266	7023-7024	|	_	_	
30-267	7024-7030	60.46%	_	_	
30-268	7030-7031	|	_	_	
