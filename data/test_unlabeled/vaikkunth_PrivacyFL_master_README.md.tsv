#FORMAT=WebAnno TSV 3.3
#T_SP=de.tudarmstadt.ukp.dkpro.core.api.ner.type.NamedEntity|identifier|value


#Text=# PrivacyFL: A simulator for privacy-preserving and secure federated learning  This repository contains the source code for running a privacy perserving federated learning simulator.
1-1	0-1	#	_	_
1-2	2-11	PrivacyFL	_	_
1-3	11-12	:	_	_
1-4	13-14	A	_	_
1-5	15-24	simulator	_	_
1-6	25-28	for	_	_
1-7	29-47	privacy-preserving	_	_
1-8	48-51	and	_	_
1-9	52-58	secure	_	_
1-10	59-68	federated	_	_
1-11	69-77	learning	_	_
1-12	79-83	This	_	_
1-13	84-94	repository	_	_
1-14	95-103	contains	_	_
1-15	104-107	the	_	_
1-16	108-114	source	_	_
1-17	115-119	code	_	_
1-18	120-123	for	_	_
1-19	124-131	running	_	_
1-20	132-133	a	_	_
1-21	134-141	privacy	_	_
1-22	142-152	perserving	_	_
1-23	153-162	federated	_	_
1-24	163-171	learning	_	_
1-25	172-181	simulator	_	_
1-26	181-182	.	_	_

#Text=The source code is currently set up for the configuration of three clients performing secure and differentially private federated learning using logistic regresion on the MNIST dataset.
2-1	183-186	The	_	_
2-2	187-193	source	_	_
2-3	194-198	code	_	_
2-4	199-201	is	_	_
2-5	202-211	currently	_	_
2-6	212-215	set	_	_
2-7	216-218	up	_	_
2-8	219-222	for	_	_
2-9	223-226	the	_	_
2-10	227-240	configuration	_	_
2-11	241-243	of	_	_
2-12	244-249	three	_	_
2-13	250-257	clients	_	_
2-14	258-268	performing	_	_
2-15	269-275	secure	_	_
2-16	276-279	and	_	_
2-17	280-294	differentially	_	_
2-18	295-302	private	_	_
2-19	303-312	federated	_	_
2-20	313-321	learning	_	_
2-21	322-327	using	_	_
2-22	328-336	logistic	_	_
2-23	337-346	regresion	_	_
2-24	347-349	on	_	_
2-25	350-353	the	_	_
2-26	354-359	MNIST	_	_
2-27	360-367	dataset	_	_
2-28	367-368	.	_	_

#Text=This library, however, is meant to be modified so as to simulate your own secure federated machine learning configuration.
3-1	369-373	This	_	_
3-2	374-381	library	_	_
3-3	381-382	,	_	_
3-4	383-390	however	_	_
3-5	390-391	,	_	_
3-6	392-394	is	_	_
3-7	395-400	meant	_	_
3-8	401-403	to	_	_
3-9	404-406	be	_	_
3-10	407-415	modified	_	_
3-11	416-418	so	_	_
3-12	419-421	as	_	_
3-13	422-424	to	_	_
3-14	425-433	simulate	_	_
3-15	434-438	your	_	_
3-16	439-442	own	_	_
3-17	443-449	secure	_	_
3-18	450-459	federated	_	_
3-19	460-467	machine	_	_
3-20	468-476	learning	_	_
3-21	477-490	configuration	_	_
3-22	490-491	.	_	_

#Text=We hope that this simulation can help users decide whether it is beneficial for them to participate in differentially-private federated learning for a given differentially private algorithm.  ## UPDATE : Paper accepted at the 29TH ACM INTERNATIONAL CONFERENCE ON INFORMATION AND KNOWLEDGE MANAGEMENT  Paper and Video Link : https://dl.acm.org/doi/10.1145/3340531.3412771  ## Getting Started  These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.
4-1	492-494	We	_	_
4-2	495-499	hope	_	_
4-3	500-504	that	_	_
4-4	505-509	this	_	_
4-5	510-520	simulation	_	_
4-6	521-524	can	_	_
4-7	525-529	help	_	_
4-8	530-535	users	_	_
4-9	536-542	decide	_	_
4-10	543-550	whether	_	_
4-11	551-553	it	_	_
4-12	554-556	is	_	_
4-13	557-567	beneficial	_	_
4-14	568-571	for	_	_
4-15	572-576	them	_	_
4-16	577-579	to	_	_
4-17	580-591	participate	_	_
4-18	592-594	in	_	_
4-19	595-617	differentially-private	_	_
4-20	618-627	federated	_	_
4-21	628-636	learning	_	_
4-22	637-640	for	_	_
4-23	641-642	a	_	_
4-24	643-648	given	_	_
4-25	649-663	differentially	_	_
4-26	664-671	private	_	_
4-27	672-681	algorithm	_	_
4-28	681-682	.	_	_
4-29	684-685	#	_	_
4-30	685-686	#	_	_
4-31	687-693	UPDATE	_	_
4-32	694-695	:	_	_
4-33	696-701	Paper	_	_
4-34	702-710	accepted	_	_
4-35	711-713	at	_	_
4-36	714-717	the	_	_
4-37	718-722	29TH	_	_
4-38	723-726	ACM	_	_
4-39	727-740	INTERNATIONAL	_	_
4-40	741-751	CONFERENCE	_	_
4-41	752-754	ON	_	_
4-42	755-766	INFORMATION	_	_
4-43	767-770	AND	_	_
4-44	771-780	KNOWLEDGE	_	_
4-45	781-791	MANAGEMENT	_	_
4-46	793-798	Paper	_	_
4-47	799-802	and	_	_
4-48	803-808	Video	_	_
4-49	809-813	Link	_	_
4-50	814-815	:	_	_
4-51	816-821	https	_	_
4-52	821-822	:	_	_
4-53	822-823	/	_	_
4-54	823-824	/	_	_
4-55	824-834	dl.acm.org	_	_
4-56	834-835	/	_	_
4-57	835-838	doi	_	_
4-58	838-839	/	_	_
4-59	839-846	10.1145	_	_
4-60	846-847	/	_	_
4-61	847-862	3340531.3412771	_	_
4-62	864-865	#	_	_
4-63	865-866	#	_	_
4-64	867-874	Getting	_	_
4-65	875-882	Started	_	_
4-66	884-889	These	_	_
4-67	890-902	instructions	_	_
4-68	903-907	will	_	_
4-69	908-911	get	_	_
4-70	912-915	you	_	_
4-71	916-917	a	_	_
4-72	918-922	copy	_	_
4-73	923-925	of	_	_
4-74	926-929	the	_	_
4-75	930-937	project	_	_
4-76	938-940	up	_	_
4-77	941-944	and	_	_
4-78	945-952	running	_	_
4-79	953-955	on	_	_
4-80	956-960	your	_	_
4-81	961-966	local	_	_
4-82	967-974	machine	_	_
4-83	975-978	for	_	_
4-84	979-990	development	_	_
4-85	991-994	and	_	_
4-86	995-1002	testing	_	_
4-87	1003-1011	purposes	_	_
4-88	1011-1012	.	_	_

#Text=See deployment for notes on how to deploy the project on a live system.   ### Installing First, clone this repository locally.
5-1	1013-1016	See	_	_
5-2	1017-1027	deployment	_	_
5-3	1028-1031	for	_	_
5-4	1032-1037	notes	_	_
5-5	1038-1040	on	_	_
5-6	1041-1044	how	_	_
5-7	1045-1047	to	_	_
5-8	1048-1054	deploy	_	_
5-9	1055-1058	the	_	_
5-10	1059-1066	project	_	_
5-11	1067-1069	on	_	_
5-12	1070-1071	a	_	_
5-13	1072-1076	live	_	_
5-14	1077-1083	system	_	_
5-15	1083-1084	.	_	_
5-16	1087-1088	#	_	_
5-17	1088-1089	#	_	_
5-18	1089-1090	#	_	_
5-19	1091-1101	Installing	_	_
5-20	1102-1107	First	_	_
5-21	1107-1108	,	_	_
5-22	1109-1114	clone	_	_
5-23	1115-1119	this	_	_
5-24	1120-1130	repository	_	_
5-25	1131-1138	locally	_	_
5-26	1138-1139	.	_	_

#Text=Then create a conda enviroment by running: ``` conda env create -f environment.yml -n YourEnvironmentName ``` Activate the new enviornment: ``` source activate YourEnvironmentName ``` To validate correct installation `cd` to `src` and run  ``` python run\_simulation.py ``` If you encounter any issues, please let us know so that we can help in getting the simulation up and running.   ### Configuring Your Simulation This library is intended to be modified as needed for your use case.
6-1	1140-1144	Then	_	_
6-2	1145-1151	create	_	_
6-3	1152-1153	a	_	_
6-4	1154-1159	conda	_	_
6-5	1160-1170	enviroment	_	_
6-6	1171-1173	by	_	_
6-7	1174-1181	running	_	_
6-8	1181-1182	:	_	_
6-9	1183-1184	`	_	_
6-10	1184-1185	`	_	_
6-11	1185-1186	`	_	_
6-12	1187-1192	conda	_	_
6-13	1193-1196	env	_	_
6-14	1197-1203	create	_	_
6-15	1204-1205	-	_	_
6-16	1205-1206	f	_	_
6-17	1207-1222	environment.yml	_	_
6-18	1223-1224	-	_	_
6-19	1224-1225	n	_	_
6-20	1226-1245	YourEnvironmentName	_	_
6-21	1246-1247	`	_	_
6-22	1247-1248	`	_	_
6-23	1248-1249	`	_	_
6-24	1250-1258	Activate	_	_
6-25	1259-1262	the	_	_
6-26	1263-1266	new	_	_
6-27	1267-1278	enviornment	_	_
6-28	1278-1279	:	_	_
6-29	1280-1281	`	_	_
6-30	1281-1282	`	_	_
6-31	1282-1283	`	_	_
6-32	1284-1290	source	_	_
6-33	1291-1299	activate	_	_
6-34	1300-1319	YourEnvironmentName	_	_
6-35	1320-1321	`	_	_
6-36	1321-1322	`	_	_
6-37	1322-1323	`	_	_
6-38	1324-1326	To	_	_
6-39	1327-1335	validate	_	_
6-40	1336-1343	correct	_	_
6-41	1344-1356	installation	_	_
6-42	1357-1358	`	_	_
6-43	1358-1360	cd	_	_
6-44	1360-1361	`	_	_
6-45	1362-1364	to	_	_
6-46	1365-1366	`	_	_
6-47	1366-1369	src	_	_
6-48	1369-1370	`	_	_
6-49	1371-1374	and	_	_
6-50	1375-1378	run	_	_
6-51	1380-1381	`	_	_
6-52	1381-1382	`	_	_
6-53	1382-1383	`	_	_
6-54	1384-1390	python	_	_
6-55	1391-1408	run\_simulation.py	_	_
6-56	1409-1410	`	_	_
6-57	1410-1411	`	_	_
6-58	1411-1412	`	_	_
6-59	1413-1415	If	_	_
6-60	1416-1419	you	_	_
6-61	1420-1429	encounter	_	_
6-62	1430-1433	any	_	_
6-63	1434-1440	issues	_	_
6-64	1440-1441	,	_	_
6-65	1442-1448	please	_	_
6-66	1449-1452	let	_	_
6-67	1453-1455	us	_	_
6-68	1456-1460	know	_	_
6-69	1461-1463	so	_	_
6-70	1464-1468	that	_	_
6-71	1469-1471	we	_	_
6-72	1472-1475	can	_	_
6-73	1476-1480	help	_	_
6-74	1481-1483	in	_	_
6-75	1484-1491	getting	_	_
6-76	1492-1495	the	_	_
6-77	1496-1506	simulation	_	_
6-78	1507-1509	up	_	_
6-79	1510-1513	and	_	_
6-80	1514-1521	running	_	_
6-81	1521-1522	.	_	_
6-82	1525-1526	#	_	_
6-83	1526-1527	#	_	_
6-84	1527-1528	#	_	_
6-85	1529-1540	Configuring	_	_
6-86	1541-1545	Your	_	_
6-87	1546-1556	Simulation	_	_
6-88	1557-1561	This	_	_
6-89	1562-1569	library	_	_
6-90	1570-1572	is	_	_
6-91	1573-1581	intended	_	_
6-92	1582-1584	to	_	_
6-93	1585-1587	be	_	_
6-94	1588-1596	modified	_	_
6-95	1597-1599	as	_	_
6-96	1600-1606	needed	_	_
6-97	1607-1610	for	_	_
6-98	1611-1615	your	_	_
6-99	1616-1619	use	_	_
6-100	1620-1624	case	_	_
6-101	1624-1625	.	_	_

#Text=We have provided a default `config.py` file as an example.
7-1	1626-1628	We	_	_
7-2	1629-1633	have	_	_
7-3	1634-1642	provided	_	_
7-4	1643-1644	a	_	_
7-5	1645-1652	default	_	_
7-6	1653-1654	`	_	_
7-7	1654-1663	config.py	_	_
7-8	1663-1664	`	_	_
7-9	1665-1669	file	_	_
7-10	1670-1672	as	_	_
7-11	1673-1675	an	_	_
7-12	1676-1683	example	_	_
7-13	1683-1684	.	_	_

#Text=Some simulation behavior can easily be configured by changing the files in the config file.
8-1	1687-1691	Some	_	_
8-2	1692-1702	simulation	_	_
8-3	1703-1711	behavior	_	_
8-4	1712-1715	can	_	_
8-5	1716-1722	easily	_	_
8-6	1723-1725	be	_	_
8-7	1726-1736	configured	_	_
8-8	1737-1739	by	_	_
8-9	1740-1748	changing	_	_
8-10	1749-1752	the	_	_
8-11	1753-1758	files	_	_
8-12	1759-1761	in	_	_
8-13	1762-1765	the	_	_
8-14	1766-1772	config	_	_
8-15	1773-1777	file	_	_
8-16	1777-1778	.	_	_

#Text=The file contains Boolean variables `USE\_SECURITY` and `USE\_DP\_PRIVACY` to toggle security and differential privacy features.
9-1	1780-1783	The	_	_
9-2	1784-1788	file	_	_
9-3	1789-1797	contains	_	_
9-4	1798-1805	Boolean	_	_
9-5	1806-1815	variables	_	_
9-6	1816-1817	`	_	_
9-7	1817-1829	USE\_SECURITY	_	_
9-8	1829-1830	`	_	_
9-9	1831-1834	and	_	_
9-10	1835-1836	`	_	_
9-11	1836-1850	USE\_DP\_PRIVACY	_	_
9-12	1850-1851	`	_	_
9-13	1852-1854	to	_	_
9-14	1855-1861	toggle	_	_
9-15	1862-1870	security	_	_
9-16	1871-1874	and	_	_
9-17	1875-1887	differential	_	_
9-18	1888-1895	privacy	_	_
9-19	1896-1904	features	_	_
9-20	1904-1905	.	_	_

#Text=The security feature does not affect accuracy, however you can set `USE\_DP\_PRIVACY` to `False` if you want to see what the federated accuracy would be without differential privacy.
10-1	1906-1909	The	_	_
10-2	1910-1918	security	_	_
10-3	1919-1926	feature	_	_
10-4	1927-1931	does	_	_
10-5	1932-1935	not	_	_
10-6	1936-1942	affect	_	_
10-7	1943-1951	accuracy	_	_
10-8	1951-1952	,	_	_
10-9	1953-1960	however	_	_
10-10	1961-1964	you	_	_
10-11	1965-1968	can	_	_
10-12	1969-1972	set	_	_
10-13	1973-1974	`	_	_
10-14	1974-1988	USE\_DP\_PRIVACY	_	_
10-15	1988-1989	`	_	_
10-16	1990-1992	to	_	_
10-17	1993-1994	`	_	_
10-18	1994-1999	False	_	_
10-19	1999-2000	`	_	_
10-20	2001-2003	if	_	_
10-21	2004-2007	you	_	_
10-22	2008-2012	want	_	_
10-23	2013-2015	to	_	_
10-24	2016-2019	see	_	_
10-25	2020-2024	what	_	_
10-26	2025-2028	the	_	_
10-27	2029-2038	federated	_	_
10-28	2039-2047	accuracy	_	_
10-29	2048-2053	would	_	_
10-30	2054-2056	be	_	_
10-31	2057-2064	without	_	_
10-32	2065-2077	differential	_	_
10-33	2078-2085	privacy	_	_
10-34	2085-2086	.	_	_

#Text=The default `config.py` file also has `USING\_CUMULATIVE` set to `True`.
11-1	2089-2092	The	_	_
11-2	2093-2100	default	_	_
11-3	2101-2102	`	_	_
11-4	2102-2111	config.py	_	_
11-5	2111-2112	`	_	_
11-6	2113-2117	file	_	_
11-7	2118-2122	also	_	_
11-8	2123-2126	has	_	_
11-9	2127-2128	`	_	_
11-10	2128-2144	USING\_CUMULATIVE	_	_
11-11	2144-2145	`	_	_
11-12	2146-2149	set	_	_
11-13	2150-2152	to	_	_
11-14	2153-2154	`	_	_
11-15	2154-2158	True	_	_
11-16	2158-2159	`	_	_
11-17	2159-2160	.	_	_

#Text=What that means is that the dataset for a client on iteration `i` containts all of the datapoints in iteration `i-1` as well as len\_per\_iteration new datapoints.
12-1	2161-2165	What	_	_
12-2	2166-2170	that	_	_
12-3	2171-2176	means	_	_
12-4	2177-2179	is	_	_
12-5	2180-2184	that	_	_
12-6	2185-2188	the	_	_
12-7	2189-2196	dataset	_	_
12-8	2197-2200	for	_	_
12-9	2201-2202	a	_	_
12-10	2203-2209	client	_	_
12-11	2210-2212	on	_	_
12-12	2213-2222	iteration	_	_
12-13	2223-2224	`	_	_
12-14	2224-2225	i	_	_
12-15	2225-2226	`	_	_
12-16	2227-2236	containts	_	_
12-17	2237-2240	all	_	_
12-18	2241-2243	of	_	_
12-19	2244-2247	the	_	_
12-20	2248-2258	datapoints	_	_
12-21	2259-2261	in	_	_
12-22	2262-2271	iteration	_	_
12-23	2272-2273	`	_	_
12-24	2273-2274	i	_	_
12-25	2274-2275	-	_	_
12-26	2275-2276	1	_	_
12-27	2276-2277	`	_	_
12-28	2278-2280	as	_	_
12-29	2281-2285	well	_	_
12-30	2286-2288	as	_	_
12-31	2289-2306	len\_per\_iteration	_	_
12-32	2307-2310	new	_	_
12-33	2311-2321	datapoints	_	_
12-34	2321-2322	.	_	_

#Text=As such, this flag also makes it so that each client trains its weights from scratch each iteration.
13-1	2323-2325	As	_	_
13-2	2326-2330	such	_	_
13-3	2330-2331	,	_	_
13-4	2332-2336	this	_	_
13-5	2337-2341	flag	_	_
13-6	2342-2346	also	_	_
13-7	2347-2352	makes	_	_
13-8	2353-2355	it	_	_
13-9	2356-2358	so	_	_
13-10	2359-2363	that	_	_
13-11	2364-2368	each	_	_
13-12	2369-2375	client	_	_
13-13	2376-2382	trains	_	_
13-14	2383-2386	its	_	_
13-15	2387-2394	weights	_	_
13-16	2395-2399	from	_	_
13-17	2400-2407	scratch	_	_
13-18	2408-2412	each	_	_
13-19	2413-2422	iteration	_	_
13-20	2422-2423	.	_	_

#Text=Conversely, one can set the `USING\_CUMULATIVE` flag to `False`, which will make the dataset non-cumulative and clients perform gradient descent from last iteration's federated weights.  ## System Architecure ### Agent  Agent (defined in agent.py) is the base class for this simulation.
14-1	2424-2434	Conversely	_	_
14-2	2434-2435	,	_	_
14-3	2436-2439	one	_	_
14-4	2440-2443	can	_	_
14-5	2444-2447	set	_	_
14-6	2448-2451	the	_	_
14-7	2452-2453	`	_	_
14-8	2453-2469	USING\_CUMULATIVE	_	_
14-9	2469-2470	`	_	_
14-10	2471-2475	flag	_	_
14-11	2476-2478	to	_	_
14-12	2479-2480	`	_	_
14-13	2480-2485	False	_	_
14-14	2485-2486	`	_	_
14-15	2486-2487	,	_	_
14-16	2488-2493	which	_	_
14-17	2494-2498	will	_	_
14-18	2499-2503	make	_	_
14-19	2504-2507	the	_	_
14-20	2508-2515	dataset	_	_
14-21	2516-2530	non-cumulative	_	_
14-22	2531-2534	and	_	_
14-23	2535-2542	clients	_	_
14-24	2543-2550	perform	_	_
14-25	2551-2559	gradient	_	_
14-26	2560-2567	descent	_	_
14-27	2568-2572	from	_	_
14-28	2573-2577	last	_	_
14-29	2578-2589	iteration's	_	_
14-30	2590-2599	federated	_	_
14-31	2600-2607	weights	_	_
14-32	2607-2608	.	_	_
14-33	2610-2611	#	_	_
14-34	2611-2612	#	_	_
14-35	2613-2619	System	_	_
14-36	2620-2631	Architecure	_	_
14-37	2632-2633	#	_	_
14-38	2633-2634	#	_	_
14-39	2634-2635	#	_	_
14-40	2636-2641	Agent	_	_
14-41	2643-2648	Agent	_	_
14-42	2649-2650	(	_	_
14-43	2650-2657	defined	_	_
14-44	2658-2660	in	_	_
14-45	2661-2669	agent.py	_	_
14-46	2669-2670	)	_	_
14-47	2671-2673	is	_	_
14-48	2674-2677	the	_	_
14-49	2678-2682	base	_	_
14-50	2683-2688	class	_	_
14-51	2689-2692	for	_	_
14-52	2693-2697	this	_	_
14-53	2698-2708	simulation	_	_
14-54	2708-2709	.	_	_

#Text=It is not meant to be initialized directly, but subclassed to create an agent with whichever behavior you would like.
15-1	2710-2712	It	_	_
15-2	2713-2715	is	_	_
15-3	2716-2719	not	_	_
15-4	2720-2725	meant	_	_
15-5	2726-2728	to	_	_
15-6	2729-2731	be	_	_
15-7	2732-2743	initialized	_	_
15-8	2744-2752	directly	_	_
15-9	2752-2753	,	_	_
15-10	2754-2757	but	_	_
15-11	2758-2768	subclassed	_	_
15-12	2769-2771	to	_	_
15-13	2772-2778	create	_	_
15-14	2779-2781	an	_	_
15-15	2782-2787	agent	_	_
15-16	2788-2792	with	_	_
15-17	2793-2802	whichever	_	_
15-18	2803-2811	behavior	_	_
15-19	2812-2815	you	_	_
15-20	2816-2821	would	_	_
15-21	2822-2826	like	_	_
15-22	2826-2827	.	_	_

#Text=We have provided two sample subclasses, \*\*ClientAgent\*\* and \*\*ServerAgent\*\*, which are both used in the sample simulation.   ### ClientAgent  An instance of the \*\*ClientAgent\*\* class represents an entity that is training a machine learning model on the same task as the other client agents.
16-1	2828-2830	We	_	_
16-2	2831-2835	have	_	_
16-3	2836-2844	provided	_	_
16-4	2845-2848	two	_	_
16-5	2849-2855	sample	_	_
16-6	2856-2866	subclasses	_	_
16-7	2866-2867	,	_	_
16-8	2868-2869	\*	_	_
16-9	2869-2870	\*	_	_
16-10	2870-2881	ClientAgent	_	_
16-11	2881-2882	\*	_	_
16-12	2882-2883	\*	_	_
16-13	2884-2887	and	_	_
16-14	2888-2889	\*	_	_
16-15	2889-2890	\*	_	_
16-16	2890-2901	ServerAgent	_	_
16-17	2901-2902	\*	_	_
16-18	2902-2903	\*	_	_
16-19	2903-2904	,	_	_
16-20	2905-2910	which	_	_
16-21	2911-2914	are	_	_
16-22	2915-2919	both	_	_
16-23	2920-2924	used	_	_
16-24	2925-2927	in	_	_
16-25	2928-2931	the	_	_
16-26	2932-2938	sample	_	_
16-27	2939-2949	simulation	_	_
16-28	2949-2950	.	_	_
16-29	2953-2954	#	_	_
16-30	2954-2955	#	_	_
16-31	2955-2956	#	_	_
16-32	2957-2968	ClientAgent	_	_
16-33	2970-2972	An	_	_
16-34	2973-2981	instance	_	_
16-35	2982-2984	of	_	_
16-36	2985-2988	the	_	_
16-37	2989-2990	\*	_	_
16-38	2990-2991	\*	_	_
16-39	2991-3002	ClientAgent	_	_
16-40	3002-3003	\*	_	_
16-41	3003-3004	\*	_	_
16-42	3005-3010	class	_	_
16-43	3011-3021	represents	_	_
16-44	3022-3024	an	_	_
16-45	3025-3031	entity	_	_
16-46	3032-3036	that	_	_
16-47	3037-3039	is	_	_
16-48	3040-3048	training	_	_
16-49	3049-3050	a	_	_
16-50	3051-3058	machine	_	_
16-51	3059-3067	learning	_	_
16-52	3068-3073	model	_	_
16-53	3074-3076	on	_	_
16-54	3077-3080	the	_	_
16-55	3081-3085	same	_	_
16-56	3086-3090	task	_	_
16-57	3091-3093	as	_	_
16-58	3094-3097	the	_	_
16-59	3098-3103	other	_	_
16-60	3104-3110	client	_	_
16-61	3111-3117	agents	_	_
16-62	3117-3118	.	_	_

#Text=The initialization arguments for a client are `agent\_number`, `train\_datasets`, `evaluator`, `sensitivity`.
17-1	3119-3122	The	_	_
17-2	3123-3137	initialization	_	_
17-3	3138-3147	arguments	_	_
17-4	3148-3151	for	_	_
17-5	3152-3153	a	_	_
17-6	3154-3160	client	_	_
17-7	3161-3164	are	_	_
17-8	3165-3166	`	_	_
17-9	3166-3178	agent\_number	_	_
17-10	3178-3179	`	_	_
17-11	3179-3180	,	_	_
17-12	3181-3182	`	_	_
17-13	3182-3196	train\_datasets	_	_
17-14	3196-3197	`	_	_
17-15	3197-3198	,	_	_
17-16	3199-3200	`	_	_
17-17	3200-3209	evaluator	_	_
17-18	3209-3210	`	_	_
17-19	3210-3211	,	_	_
17-20	3212-3213	`	_	_
17-21	3213-3224	sensitivity	_	_
17-22	3224-3225	`	_	_
17-23	3225-3226	.	_	_

#Text=Client agents are named assigned an `agent\_number`, which is then appended to the string `client\_agent` to create their name.
18-1	3227-3233	Client	_	_
18-2	3234-3240	agents	_	_
18-3	3241-3244	are	_	_
18-4	3245-3250	named	_	_
18-5	3251-3259	assigned	_	_
18-6	3260-3262	an	_	_
18-7	3263-3264	`	_	_
18-8	3264-3276	agent\_number	_	_
18-9	3276-3277	`	_	_
18-10	3277-3278	,	_	_
18-11	3279-3284	which	_	_
18-12	3285-3287	is	_	_
18-13	3288-3292	then	_	_
18-14	3293-3301	appended	_	_
18-15	3302-3304	to	_	_
18-16	3305-3308	the	_	_
18-17	3309-3315	string	_	_
18-18	3316-3317	`	_	_
18-19	3317-3329	client\_agent	_	_
18-20	3329-3330	`	_	_
18-21	3331-3333	to	_	_
18-22	3334-3340	create	_	_
18-23	3341-3346	their	_	_
18-24	3347-3351	name	_	_
18-25	3351-3352	.	_	_

#Text=For example, in the example simulation there are three client agents named `client\_agent0`, `client\_agent1`, and `client\_agent2`.
19-1	3353-3356	For	_	_
19-2	3357-3364	example	_	_
19-3	3364-3365	,	_	_
19-4	3366-3368	in	_	_
19-5	3369-3372	the	_	_
19-6	3373-3380	example	_	_
19-7	3381-3391	simulation	_	_
19-8	3392-3397	there	_	_
19-9	3398-3401	are	_	_
19-10	3402-3407	three	_	_
19-11	3408-3414	client	_	_
19-12	3415-3421	agents	_	_
19-13	3422-3427	named	_	_
19-14	3428-3429	`	_	_
19-15	3429-3442	client\_agent0	_	_
19-16	3442-3443	`	_	_
19-17	3443-3444	,	_	_
19-18	3445-3446	`	_	_
19-19	3446-3459	client\_agent1	_	_
19-20	3459-3460	`	_	_
19-21	3460-3461	,	_	_
19-22	3462-3465	and	_	_
19-23	3466-3467	`	_	_
19-24	3467-3480	client\_agent2	_	_
19-25	3480-3481	`	_	_
19-26	3481-3482	.	_	_

#Text=When initialized, clients are also provided their dataset, which in the example is a pyspark dataframe.
20-1	3483-3487	When	_	_
20-2	3488-3499	initialized	_	_
20-3	3499-3500	,	_	_
20-4	3501-3508	clients	_	_
20-5	3509-3512	are	_	_
20-6	3513-3517	also	_	_
20-7	3518-3526	provided	_	_
20-8	3527-3532	their	_	_
20-9	3533-3540	dataset	_	_
20-10	3540-3541	,	_	_
20-11	3542-3547	which	_	_
20-12	3548-3550	in	_	_
20-13	3551-3554	the	_	_
20-14	3555-3562	example	_	_
20-15	3563-3565	is	_	_
20-16	3566-3567	a	_	_
20-17	3568-3575	pyspark	_	_
20-18	3576-3585	dataframe	_	_
20-19	3585-3586	.	_	_

#Text=The client is also passed an `evaluator` which it will use in the simulation to evaluate its own weights and the federated weights.
21-1	3587-3590	The	_	_
21-2	3591-3597	client	_	_
21-3	3598-3600	is	_	_
21-4	3601-3605	also	_	_
21-5	3606-3612	passed	_	_
21-6	3613-3615	an	_	_
21-7	3616-3617	`	_	_
21-8	3617-3626	evaluator	_	_
21-9	3626-3627	`	_	_
21-10	3628-3633	which	_	_
21-11	3634-3636	it	_	_
21-12	3637-3641	will	_	_
21-13	3642-3645	use	_	_
21-14	3646-3648	in	_	_
21-15	3649-3652	the	_	_
21-16	3653-3663	simulation	_	_
21-17	3664-3666	to	_	_
21-18	3667-3675	evaluate	_	_
21-19	3676-3679	its	_	_
21-20	3680-3683	own	_	_
21-21	3684-3691	weights	_	_
21-22	3692-3695	and	_	_
21-23	3696-3699	the	_	_
21-24	3700-3709	federated	_	_
21-25	3710-3717	weights	_	_
21-26	3717-3718	.	_	_

#Text=`evaluator`is an instance of the ModelEvaluator class defined in `utils/model\_evaluator.py`.
22-1	3719-3720	`	_	_
22-2	3720-3729	evaluator	_	_
22-3	3729-3730	`	_	_
22-4	3730-3732	is	_	_
22-5	3733-3735	an	_	_
22-6	3736-3744	instance	_	_
22-7	3745-3747	of	_	_
22-8	3748-3751	the	_	_
22-9	3752-3766	ModelEvaluator	_	_
22-10	3767-3772	class	_	_
22-11	3773-3780	defined	_	_
22-12	3781-3783	in	_	_
22-13	3784-3785	`	_	_
22-14	3785-3790	utils	_	_
22-15	3790-3791	/	_	_
22-16	3791-3809	model\_evaluator.py	_	_
22-17	3809-3810	`	_	_
22-18	3810-3811	.	_	_

#Text=<br/><br/>  There are two important methods of \*\*ClientAgent\*\* that are invoked by the \*\*ServerAgent\*\*.
23-1	3812-3813	<	_	_
23-2	3813-3815	br	_	_
23-3	3815-3816	/	_	_
23-4	3816-3817	>	_	_
23-5	3817-3818	<	_	_
23-6	3818-3820	br	_	_
23-7	3820-3821	/	_	_
23-8	3821-3822	>	_	_
23-9	3824-3829	There	_	_
23-10	3830-3833	are	_	_
23-11	3834-3837	two	_	_
23-12	3838-3847	important	_	_
23-13	3848-3855	methods	_	_
23-14	3856-3858	of	_	_
23-15	3859-3860	\*	_	_
23-16	3860-3861	\*	_	_
23-17	3861-3872	ClientAgent	_	_
23-18	3872-3873	\*	_	_
23-19	3873-3874	\*	_	_
23-20	3875-3879	that	_	_
23-21	3880-3883	are	_	_
23-22	3884-3891	invoked	_	_
23-23	3892-3894	by	_	_
23-24	3895-3898	the	_	_
23-25	3899-3900	\*	_	_
23-26	3900-3901	\*	_	_
23-27	3901-3912	ServerAgent	_	_
23-28	3912-3913	\*	_	_
23-29	3913-3914	\*	_	_
23-30	3914-3915	.	_	_

#Text=The first is `compute\_weights`, which is called every iteration and prompts the client to perform its machine learning task on its dataset for that iteration.
24-1	3916-3919	The	_	_
24-2	3920-3925	first	_	_
24-3	3926-3928	is	_	_
24-4	3929-3930	`	_	_
24-5	3930-3945	compute\_weights	_	_
24-6	3945-3946	`	_	_
24-7	3946-3947	,	_	_
24-8	3948-3953	which	_	_
24-9	3954-3956	is	_	_
24-10	3957-3963	called	_	_
24-11	3964-3969	every	_	_
24-12	3970-3979	iteration	_	_
24-13	3980-3983	and	_	_
24-14	3984-3991	prompts	_	_
24-15	3992-3995	the	_	_
24-16	3996-4002	client	_	_
24-17	4003-4005	to	_	_
24-18	4006-4013	perform	_	_
24-19	4014-4017	its	_	_
24-20	4018-4025	machine	_	_
24-21	4026-4034	learning	_	_
24-22	4035-4039	task	_	_
24-23	4040-4042	on	_	_
24-24	4043-4046	its	_	_
24-25	4047-4054	dataset	_	_
24-26	4055-4058	for	_	_
24-27	4059-4063	that	_	_
24-28	4064-4073	iteration	_	_
24-29	4073-4074	.	_	_

#Text=The second method is `receive\_weights` which is called at the end of every iteration when the server has federated weights to return to the client.   ### ServerAgent  An instance of the \*\*ServerAgent\*\* class represents a third-party entity that is responsible for invoking the simulation and corresponding with the client agents.
25-1	4076-4079	The	_	_
25-2	4080-4086	second	_	_
25-3	4087-4093	method	_	_
25-4	4094-4096	is	_	_
25-5	4097-4098	`	_	_
25-6	4098-4113	receive\_weights	_	_
25-7	4113-4114	`	_	_
25-8	4115-4120	which	_	_
25-9	4121-4123	is	_	_
25-10	4124-4130	called	_	_
25-11	4131-4133	at	_	_
25-12	4134-4137	the	_	_
25-13	4138-4141	end	_	_
25-14	4142-4144	of	_	_
25-15	4145-4150	every	_	_
25-16	4151-4160	iteration	_	_
25-17	4161-4165	when	_	_
25-18	4166-4169	the	_	_
25-19	4170-4176	server	_	_
25-20	4177-4180	has	_	_
25-21	4181-4190	federated	_	_
25-22	4191-4198	weights	_	_
25-23	4199-4201	to	_	_
25-24	4202-4208	return	_	_
25-25	4209-4211	to	_	_
25-26	4212-4215	the	_	_
25-27	4216-4222	client	_	_
25-28	4222-4223	.	_	_
25-29	4226-4227	#	_	_
25-30	4227-4228	#	_	_
25-31	4228-4229	#	_	_
25-32	4230-4241	ServerAgent	_	_
25-33	4243-4245	An	_	_
25-34	4246-4254	instance	_	_
25-35	4255-4257	of	_	_
25-36	4258-4261	the	_	_
25-37	4262-4263	\*	_	_
25-38	4263-4264	\*	_	_
25-39	4264-4275	ServerAgent	_	_
25-40	4275-4276	\*	_	_
25-41	4276-4277	\*	_	_
25-42	4278-4283	class	_	_
25-43	4284-4294	represents	_	_
25-44	4295-4296	a	_	_
25-45	4297-4308	third-party	_	_
25-46	4309-4315	entity	_	_
25-47	4316-4320	that	_	_
25-48	4321-4323	is	_	_
25-49	4324-4335	responsible	_	_
25-50	4336-4339	for	_	_
25-51	4340-4348	invoking	_	_
25-52	4349-4352	the	_	_
25-53	4353-4363	simulation	_	_
25-54	4364-4367	and	_	_
25-55	4368-4381	corresponding	_	_
25-56	4382-4386	with	_	_
25-57	4387-4390	the	_	_
25-58	4391-4397	client	_	_
25-59	4398-4404	agents	_	_
25-60	4404-4405	.	_	_

#Text=It is possible to configure a simulation to use more than one \*\*ServerAgent\*\*, but the straightforward example in the respository currently only creates one instance.
26-1	4406-4408	It	_	_
26-2	4409-4411	is	_	_
26-3	4412-4420	possible	_	_
26-4	4421-4423	to	_	_
26-5	4424-4433	configure	_	_
26-6	4434-4435	a	_	_
26-7	4436-4446	simulation	_	_
26-8	4447-4449	to	_	_
26-9	4450-4453	use	_	_
26-10	4454-4458	more	_	_
26-11	4459-4463	than	_	_
26-12	4464-4467	one	_	_
26-13	4468-4469	\*	_	_
26-14	4469-4470	\*	_	_
26-15	4470-4481	ServerAgent	_	_
26-16	4481-4482	\*	_	_
26-17	4482-4483	\*	_	_
26-18	4483-4484	,	_	_
26-19	4485-4488	but	_	_
26-20	4489-4492	the	_	_
26-21	4493-4508	straightforward	_	_
26-22	4509-4516	example	_	_
26-23	4517-4519	in	_	_
26-24	4520-4523	the	_	_
26-25	4524-4535	respository	_	_
26-26	4536-4545	currently	_	_
26-27	4546-4550	only	_	_
26-28	4551-4558	creates	_	_
26-29	4559-4562	one	_	_
26-30	4563-4571	instance	_	_
26-31	4571-4572	.	_	_

#Text=Initializaing a \*\*ServerAgent\*\* only requires the same default argument for initializing its superclass \*\*Agent\*\*: `agent\_number` which should be `0` for the first server agent.
27-1	4573-4586	Initializaing	_	_
27-2	4587-4588	a	_	_
27-3	4589-4590	\*	_	_
27-4	4590-4591	\*	_	_
27-5	4591-4602	ServerAgent	_	_
27-6	4602-4603	\*	_	_
27-7	4603-4604	\*	_	_
27-8	4605-4609	only	_	_
27-9	4610-4618	requires	_	_
27-10	4619-4622	the	_	_
27-11	4623-4627	same	_	_
27-12	4628-4635	default	_	_
27-13	4636-4644	argument	_	_
27-14	4645-4648	for	_	_
27-15	4649-4661	initializing	_	_
27-16	4662-4665	its	_	_
27-17	4666-4676	superclass	_	_
27-18	4677-4678	\*	_	_
27-19	4678-4679	\*	_	_
27-20	4679-4684	Agent	_	_
27-21	4684-4685	\*	_	_
27-22	4685-4686	\*	_	_
27-23	4686-4687	:	_	_
27-24	4688-4689	`	_	_
27-25	4689-4701	agent\_number	_	_
27-26	4701-4702	`	_	_
27-27	4703-4708	which	_	_
27-28	4709-4715	should	_	_
27-29	4716-4718	be	_	_
27-30	4719-4720	`	_	_
27-31	4720-4721	0	_	_
27-32	4721-4722	`	_	_
27-33	4723-4726	for	_	_
27-34	4727-4730	the	_	_
27-35	4731-4736	first	_	_
27-36	4737-4743	server	_	_
27-37	4744-4749	agent	_	_
27-38	4749-4750	.	_	_

#Text=<br/><br/>  \*\*ServerAgent\*\* has one method: `request\_values`.
28-1	4752-4753	<	_	_
28-2	4753-4755	br	_	_
28-3	4755-4756	/	_	_
28-4	4756-4757	>	_	_
28-5	4757-4758	<	_	_
28-6	4758-4760	br	_	_
28-7	4760-4761	/	_	_
28-8	4761-4762	>	_	_
28-9	4764-4765	\*	_	_
28-10	4765-4766	\*	_	_
28-11	4766-4777	ServerAgent	_	_
28-12	4777-4778	\*	_	_
28-13	4778-4779	\*	_	_
28-14	4780-4783	has	_	_
28-15	4784-4787	one	_	_
28-16	4788-4794	method	_	_
28-17	4794-4795	:	_	_
28-18	4796-4797	`	_	_
28-19	4797-4811	request\_values	_	_
28-20	4811-4812	`	_	_
28-21	4812-4813	.	_	_

#Text=The `request\_values` is called to signal the server agent to start requesting values from clients, thereby starting the online portion of the simulation.
29-1	4814-4817	The	_	_
29-2	4818-4819	`	_	_
29-3	4819-4833	request\_values	_	_
29-4	4833-4834	`	_	_
29-5	4835-4837	is	_	_
29-6	4838-4844	called	_	_
29-7	4845-4847	to	_	_
29-8	4848-4854	signal	_	_
29-9	4855-4858	the	_	_
29-10	4859-4865	server	_	_
29-11	4866-4871	agent	_	_
29-12	4872-4874	to	_	_
29-13	4875-4880	start	_	_
29-14	4881-4891	requesting	_	_
29-15	4892-4898	values	_	_
29-16	4899-4903	from	_	_
29-17	4904-4911	clients	_	_
29-18	4911-4912	,	_	_
29-19	4913-4920	thereby	_	_
29-20	4921-4929	starting	_	_
29-21	4930-4933	the	_	_
29-22	4934-4940	online	_	_
29-23	4941-4948	portion	_	_
29-24	4949-4951	of	_	_
29-25	4952-4955	the	_	_
29-26	4956-4966	simulation	_	_
29-27	4966-4967	.	_	_

#Text=The only argument is `iters` which dictates how many iterations to run the simulation for.
30-1	4968-4971	The	_	_
30-2	4972-4976	only	_	_
30-3	4977-4985	argument	_	_
30-4	4986-4988	is	_	_
30-5	4989-4990	`	_	_
30-6	4990-4995	iters	_	_
30-7	4995-4996	`	_	_
30-8	4997-5002	which	_	_
30-9	5003-5011	dictates	_	_
30-10	5012-5015	how	_	_
30-11	5016-5020	many	_	_
30-12	5021-5031	iterations	_	_
30-13	5032-5034	to	_	_
30-14	5035-5038	run	_	_
30-15	5039-5042	the	_	_
30-16	5043-5053	simulation	_	_
30-17	5054-5057	for	_	_
30-18	5057-5058	.	_	_

#Text=Note that if iters is too large, the client agents may run out of data.
31-1	5059-5063	Note	_	_
31-2	5064-5068	that	_	_
31-3	5069-5071	if	_	_
31-4	5072-5077	iters	_	_
31-5	5078-5080	is	_	_
31-6	5081-5084	too	_	_
31-7	5085-5090	large	_	_
31-8	5090-5091	,	_	_
31-9	5092-5095	the	_	_
31-10	5096-5102	client	_	_
31-11	5103-5109	agents	_	_
31-12	5110-5113	may	_	_
31-13	5114-5117	run	_	_
31-14	5118-5121	out	_	_
31-15	5122-5124	of	_	_
31-16	5125-5129	data	_	_
31-17	5129-5130	.	_	_

#Text=For the example shown in the repository, only set `iters` to be equal to or less than to the `iterations` argument in the \*\*Initializer\*\* `\_\_init\_\_` method, since that is the method that creates the datasets and distributes them to the clients.
32-1	5131-5134	For	_	_
32-2	5135-5138	the	_	_
32-3	5139-5146	example	_	_
32-4	5147-5152	shown	_	_
32-5	5153-5155	in	_	_
32-6	5156-5159	the	_	_
32-7	5160-5170	repository	_	_
32-8	5170-5171	,	_	_
32-9	5172-5176	only	_	_
32-10	5177-5180	set	_	_
32-11	5181-5182	`	_	_
32-12	5182-5187	iters	_	_
32-13	5187-5188	`	_	_
32-14	5189-5191	to	_	_
32-15	5192-5194	be	_	_
32-16	5195-5200	equal	_	_
32-17	5201-5203	to	_	_
32-18	5204-5206	or	_	_
32-19	5207-5211	less	_	_
32-20	5212-5216	than	_	_
32-21	5217-5219	to	_	_
32-22	5220-5223	the	_	_
32-23	5224-5225	`	_	_
32-24	5225-5235	iterations	_	_
32-25	5235-5236	`	_	_
32-26	5237-5245	argument	_	_
32-27	5246-5248	in	_	_
32-28	5249-5252	the	_	_
32-29	5253-5254	\*	_	_
32-30	5254-5255	\*	_	_
32-31	5255-5266	Initializer	_	_
32-32	5266-5267	\*	_	_
32-33	5267-5268	\*	_	_
32-34	5269-5270	`	_	_
32-35	5270-5271	\_	_	_
32-36	5271-5272	\_	_	_
32-37	5272-5276	init	_	_
32-38	5276-5277	\_	_	_
32-39	5277-5278	\_	_	_
32-40	5278-5279	`	_	_
32-41	5280-5286	method	_	_
32-42	5286-5287	,	_	_
32-43	5288-5293	since	_	_
32-44	5294-5298	that	_	_
32-45	5299-5301	is	_	_
32-46	5302-5305	the	_	_
32-47	5306-5312	method	_	_
32-48	5313-5317	that	_	_
32-49	5318-5325	creates	_	_
32-50	5326-5329	the	_	_
32-51	5330-5338	datasets	_	_
32-52	5339-5342	and	_	_
32-53	5343-5354	distributes	_	_
32-54	5355-5359	them	_	_
32-55	5360-5362	to	_	_
32-56	5363-5366	the	_	_
32-57	5367-5374	clients	_	_
32-58	5374-5375	.	_	_

#Text=If you wish to change the behavior of the simulation, `request\_values` is a good place to start and subsequently add/modify any methods that are called in the \*\*ClientAgent\*\* class.
33-1	5376-5378	If	_	_
33-2	5379-5382	you	_	_
33-3	5383-5387	wish	_	_
33-4	5388-5390	to	_	_
33-5	5391-5397	change	_	_
33-6	5398-5401	the	_	_
33-7	5402-5410	behavior	_	_
33-8	5411-5413	of	_	_
33-9	5414-5417	the	_	_
33-10	5418-5428	simulation	_	_
33-11	5428-5429	,	_	_
33-12	5430-5431	`	_	_
33-13	5431-5445	request\_values	_	_
33-14	5445-5446	`	_	_
33-15	5447-5449	is	_	_
33-16	5450-5451	a	_	_
33-17	5452-5456	good	_	_
33-18	5457-5462	place	_	_
33-19	5463-5465	to	_	_
33-20	5466-5471	start	_	_
33-21	5472-5475	and	_	_
33-22	5476-5488	subsequently	_	_
33-23	5489-5492	add	_	_
33-24	5492-5493	/	_	_
33-25	5493-5499	modify	_	_
33-26	5500-5503	any	_	_
33-27	5504-5511	methods	_	_
33-28	5512-5516	that	_	_
33-29	5517-5520	are	_	_
33-30	5521-5527	called	_	_
33-31	5528-5530	in	_	_
33-32	5531-5534	the	_	_
33-33	5535-5536	\*	_	_
33-34	5536-5537	\*	_	_
33-35	5537-5548	ClientAgent	_	_
33-36	5548-5549	\*	_	_
33-37	5549-5550	\*	_	_
33-38	5551-5556	class	_	_
33-39	5556-5557	.	_	_

#Text=<br/><br/>  The `request\_values` method first requests weights in parallel from the clients by calling their `compute\_weights` method, averages them, and then returns them to the clients in parallel by calling their `receive\_weights` method.
34-1	5559-5560	<	_	_
34-2	5560-5562	br	_	_
34-3	5562-5563	/	_	_
34-4	5563-5564	>	_	_
34-5	5564-5565	<	_	_
34-6	5565-5567	br	_	_
34-7	5567-5568	/	_	_
34-8	5568-5569	>	_	_
34-9	5571-5574	The	_	_
34-10	5575-5576	`	_	_
34-11	5576-5590	request\_values	_	_
34-12	5590-5591	`	_	_
34-13	5592-5598	method	_	_
34-14	5599-5604	first	_	_
34-15	5605-5613	requests	_	_
34-16	5614-5621	weights	_	_
34-17	5622-5624	in	_	_
34-18	5625-5633	parallel	_	_
34-19	5634-5638	from	_	_
34-20	5639-5642	the	_	_
34-21	5643-5650	clients	_	_
34-22	5651-5653	by	_	_
34-23	5654-5661	calling	_	_
34-24	5662-5667	their	_	_
34-25	5668-5669	`	_	_
34-26	5669-5684	compute\_weights	_	_
34-27	5684-5685	`	_	_
34-28	5686-5692	method	_	_
34-29	5692-5693	,	_	_
34-30	5694-5702	averages	_	_
34-31	5703-5707	them	_	_
34-32	5707-5708	,	_	_
34-33	5709-5712	and	_	_
34-34	5713-5717	then	_	_
34-35	5718-5725	returns	_	_
34-36	5726-5730	them	_	_
34-37	5731-5733	to	_	_
34-38	5734-5737	the	_	_
34-39	5738-5745	clients	_	_
34-40	5746-5748	in	_	_
34-41	5749-5757	parallel	_	_
34-42	5758-5760	by	_	_
34-43	5761-5768	calling	_	_
34-44	5769-5774	their	_	_
34-45	5775-5776	`	_	_
34-46	5776-5791	receive\_weights	_	_
34-47	5791-5792	`	_	_
34-48	5793-5799	method	_	_
34-49	5799-5800	.	_	_

#Text=In the current example, the client returns a message to the server agent through the `receive\_weights` method indicating whether its weights have converged.   ### Initializer  An instance of the \*\*Initializer\*\* class is used to initialize the agents and model evaluator.
35-1	5801-5803	In	_	_
35-2	5804-5807	the	_	_
35-3	5808-5815	current	_	_
35-4	5816-5823	example	_	_
35-5	5823-5824	,	_	_
35-6	5825-5828	the	_	_
35-7	5829-5835	client	_	_
35-8	5836-5843	returns	_	_
35-9	5844-5845	a	_	_
35-10	5846-5853	message	_	_
35-11	5854-5856	to	_	_
35-12	5857-5860	the	_	_
35-13	5861-5867	server	_	_
35-14	5868-5873	agent	_	_
35-15	5874-5881	through	_	_
35-16	5882-5885	the	_	_
35-17	5886-5887	`	_	_
35-18	5887-5902	receive\_weights	_	_
35-19	5902-5903	`	_	_
35-20	5904-5910	method	_	_
35-21	5911-5921	indicating	_	_
35-22	5922-5929	whether	_	_
35-23	5930-5933	its	_	_
35-24	5934-5941	weights	_	_
35-25	5942-5946	have	_	_
35-26	5947-5956	converged	_	_
35-27	5956-5957	.	_	_
35-28	5960-5961	#	_	_
35-29	5961-5962	#	_	_
35-30	5962-5963	#	_	_
35-31	5964-5975	Initializer	_	_
35-32	5977-5979	An	_	_
35-33	5980-5988	instance	_	_
35-34	5989-5991	of	_	_
35-35	5992-5995	the	_	_
35-36	5996-5997	\*	_	_
35-37	5997-5998	\*	_	_
35-38	5998-6009	Initializer	_	_
35-39	6009-6010	\*	_	_
35-40	6010-6011	\*	_	_
35-41	6012-6017	class	_	_
35-42	6018-6020	is	_	_
35-43	6021-6025	used	_	_
35-44	6026-6028	to	_	_
35-45	6029-6039	initialize	_	_
35-46	6040-6043	the	_	_
35-47	6044-6050	agents	_	_
35-48	6051-6054	and	_	_
35-49	6055-6060	model	_	_
35-50	6061-6070	evaluator	_	_
35-51	6070-6071	.	_	_

#Text=In addition, any offline stage logic, such as a diffie-helman key exchange, should occur in this class.
36-1	6072-6074	In	_	_
36-2	6075-6083	addition	_	_
36-3	6083-6084	,	_	_
36-4	6085-6088	any	_	_
36-5	6089-6096	offline	_	_
36-6	6097-6102	stage	_	_
36-7	6103-6108	logic	_	_
36-8	6108-6109	,	_	_
36-9	6110-6114	such	_	_
36-10	6115-6117	as	_	_
36-11	6118-6119	a	_	_
36-12	6120-6133	diffie-helman	_	_
36-13	6134-6137	key	_	_
36-14	6138-6146	exchange	_	_
36-15	6146-6147	,	_	_
36-16	6148-6154	should	_	_
36-17	6155-6160	occur	_	_
36-18	6161-6163	in	_	_
36-19	6164-6168	this	_	_
36-20	6169-6174	class	_	_
36-21	6174-6175	.	_	_

#Text=In our example, it loads the MNIST dataset and processes it for the client agent instances.
37-1	6176-6178	In	_	_
37-2	6179-6182	our	_	_
37-3	6183-6190	example	_	_
37-4	6190-6191	,	_	_
37-5	6192-6194	it	_	_
37-6	6195-6200	loads	_	_
37-7	6201-6204	the	_	_
37-8	6205-6210	MNIST	_	_
37-9	6211-6218	dataset	_	_
37-10	6219-6222	and	_	_
37-11	6223-6232	processes	_	_
37-12	6233-6235	it	_	_
37-13	6236-6239	for	_	_
37-14	6240-6243	the	_	_
37-15	6244-6250	client	_	_
37-16	6251-6256	agent	_	_
37-17	6257-6266	instances	_	_
37-18	6266-6267	.	_	_

#Text=<br/><br/>  To commence the simulation, the initializer's `run\_simulation` method is invoked, which then invokes the server agent's `request\_values` method. ### Directory The \*\*Directory\*\* class contains a mapping of agent names to agent instances that allows agents to invoke other agents' methods by only having their name.
38-1	6269-6270	<	_	_
38-2	6270-6272	br	_	_
38-3	6272-6273	/	_	_
38-4	6273-6274	>	_	_
38-5	6274-6275	<	_	_
38-6	6275-6277	br	_	_
38-7	6277-6278	/	_	_
38-8	6278-6279	>	_	_
38-9	6281-6283	To	_	_
38-10	6284-6292	commence	_	_
38-11	6293-6296	the	_	_
38-12	6297-6307	simulation	_	_
38-13	6307-6308	,	_	_
38-14	6309-6312	the	_	_
38-15	6313-6326	initializer's	_	_
38-16	6327-6328	`	_	_
38-17	6328-6342	run\_simulation	_	_
38-18	6342-6343	`	_	_
38-19	6344-6350	method	_	_
38-20	6351-6353	is	_	_
38-21	6354-6361	invoked	_	_
38-22	6361-6362	,	_	_
38-23	6363-6368	which	_	_
38-24	6369-6373	then	_	_
38-25	6374-6381	invokes	_	_
38-26	6382-6385	the	_	_
38-27	6386-6392	server	_	_
38-28	6393-6400	agent's	_	_
38-29	6401-6402	`	_	_
38-30	6402-6416	request\_values	_	_
38-31	6416-6417	`	_	_
38-32	6418-6424	method	_	_
38-33	6424-6425	.	_	_
38-34	6426-6427	#	_	_
38-35	6427-6428	#	_	_
38-36	6428-6429	#	_	_
38-37	6430-6439	Directory	_	_
38-38	6440-6443	The	_	_
38-39	6444-6445	\*	_	_
38-40	6445-6446	\*	_	_
38-41	6446-6455	Directory	_	_
38-42	6455-6456	\*	_	_
38-43	6456-6457	\*	_	_
38-44	6458-6463	class	_	_
38-45	6464-6472	contains	_	_
38-46	6473-6474	a	_	_
38-47	6475-6482	mapping	_	_
38-48	6483-6485	of	_	_
38-49	6486-6491	agent	_	_
38-50	6492-6497	names	_	_
38-51	6498-6500	to	_	_
38-52	6501-6506	agent	_	_
38-53	6507-6516	instances	_	_
38-54	6517-6521	that	_	_
38-55	6522-6528	allows	_	_
38-56	6529-6535	agents	_	_
38-57	6536-6538	to	_	_
38-58	6539-6545	invoke	_	_
38-59	6546-6551	other	_	_
38-60	6552-6558	agents	_	_
38-61	6558-6559	'	_	_
38-62	6560-6567	methods	_	_
38-63	6568-6570	by	_	_
38-64	6571-6575	only	_	_
38-65	6576-6582	having	_	_
38-66	6583-6588	their	_	_
38-67	6589-6593	name	_	_
38-68	6593-6594	.	_	_

#Text=An instance of \*\*Directory\*\* is created in the `\_\_init\_\_` method of the \*\*Initializer\*\* class after all the agents have been created.
39-1	6595-6597	An	_	_
39-2	6598-6606	instance	_	_
39-3	6607-6609	of	_	_
39-4	6610-6611	\*	_	_
39-5	6611-6612	\*	_	_
39-6	6612-6621	Directory	_	_
39-7	6621-6622	\*	_	_
39-8	6622-6623	\*	_	_
39-9	6624-6626	is	_	_
39-10	6627-6634	created	_	_
39-11	6635-6637	in	_	_
39-12	6638-6641	the	_	_
39-13	6642-6643	`	_	_
39-14	6643-6644	\_	_	_
39-15	6644-6645	\_	_	_
39-16	6645-6649	init	_	_
39-17	6649-6650	\_	_	_
39-18	6650-6651	\_	_	_
39-19	6651-6652	`	_	_
39-20	6653-6659	method	_	_
39-21	6660-6662	of	_	_
39-22	6663-6666	the	_	_
39-23	6667-6668	\*	_	_
39-24	6668-6669	\*	_	_
39-25	6669-6680	Initializer	_	_
39-26	6680-6681	\*	_	_
39-27	6681-6682	\*	_	_
39-28	6683-6688	class	_	_
39-29	6689-6694	after	_	_
39-30	6695-6698	all	_	_
39-31	6699-6702	the	_	_
39-32	6703-6709	agents	_	_
39-33	6710-6714	have	_	_
39-34	6715-6719	been	_	_
39-35	6720-6727	created	_	_
39-36	6727-6728	.	_	_

#Text=It is then passed on to all the agents using their `set\_directory` method.
40-1	6729-6731	It	_	_
40-2	6732-6734	is	_	_
40-3	6735-6739	then	_	_
40-4	6740-6746	passed	_	_
40-5	6747-6749	on	_	_
40-6	6750-6752	to	_	_
40-7	6753-6756	all	_	_
40-8	6757-6760	the	_	_
40-9	6761-6767	agents	_	_
40-10	6768-6773	using	_	_
40-11	6774-6779	their	_	_
40-12	6780-6781	`	_	_
40-13	6781-6794	set\_directory	_	_
40-14	6794-6795	`	_	_
40-15	6796-6802	method	_	_
40-16	6802-6803	.	_	_

#Text=An example usage to call some method of client\_agent1 would be: `self.directory.clients\['client\_agent1'\].METHOD\_TO\_CALL()'`  ### Utils Folder This folder contains utilities such as data processing, differential privacy functions, and more.
41-1	6805-6807	An	_	_
41-2	6808-6815	example	_	_
41-3	6816-6821	usage	_	_
41-4	6822-6824	to	_	_
41-5	6825-6829	call	_	_
41-6	6830-6834	some	_	_
41-7	6835-6841	method	_	_
41-8	6842-6844	of	_	_
41-9	6845-6858	client\_agent1	_	_
41-10	6859-6864	would	_	_
41-11	6865-6867	be	_	_
41-12	6867-6868	:	_	_
41-13	6869-6870	`	_	_
41-14	6870-6892	self.directory.clients	_	_
41-15	6892-6893	\[	_	_
41-16	6893-6894	'	_	_
41-17	6894-6907	client\_agent1	_	_
41-18	6907-6908	'	_	_
41-19	6908-6909	\]	_	_
41-20	6909-6910	.	_	_
41-21	6910-6924	METHOD\_TO\_CALL	_	_
41-22	6924-6925	(	_	_
41-23	6925-6926	)	_	_
41-24	6926-6927	'	_	_
41-25	6927-6928	`	_	_
41-26	6930-6931	#	_	_
41-27	6931-6932	#	_	_
41-28	6932-6933	#	_	_
41-29	6934-6939	Utils	_	_
41-30	6940-6946	Folder	_	_
41-31	6947-6951	This	_	_
41-32	6952-6958	folder	_	_
41-33	6959-6967	contains	_	_
41-34	6968-6977	utilities	_	_
41-35	6978-6982	such	_	_
41-36	6983-6985	as	_	_
41-37	6986-6990	data	_	_
41-38	6991-7001	processing	_	_
41-39	7001-7002	,	_	_
41-40	7003-7015	differential	_	_
41-41	7016-7023	privacy	_	_
41-42	7024-7033	functions	_	_
41-43	7033-7034	,	_	_
41-44	7035-7038	and	_	_
41-45	7039-7043	more	_	_
41-46	7043-7044	.	_	_

#Text=For the most part, functions in here are implementation specific and you should feel free to add any auxiliary functions scripts.   ## Features  The library is intended to help users simulate secure federated learning to decide whether it would be feasible and beneficial.
42-1	7045-7048	For	_	_
42-2	7049-7052	the	_	_
42-3	7053-7057	most	_	_
42-4	7058-7062	part	_	_
42-5	7062-7063	,	_	_
42-6	7064-7073	functions	_	_
42-7	7074-7076	in	_	_
42-8	7077-7081	here	_	_
42-9	7082-7085	are	_	_
42-10	7086-7100	implementation	_	_
42-11	7101-7109	specific	_	_
42-12	7110-7113	and	_	_
42-13	7114-7117	you	_	_
42-14	7118-7124	should	_	_
42-15	7125-7129	feel	_	_
42-16	7130-7134	free	_	_
42-17	7135-7137	to	_	_
42-18	7138-7141	add	_	_
42-19	7142-7145	any	_	_
42-20	7146-7155	auxiliary	_	_
42-21	7156-7165	functions	_	_
42-22	7166-7173	scripts	_	_
42-23	7173-7174	.	_	_
42-24	7177-7178	#	_	_
42-25	7178-7179	#	_	_
42-26	7180-7188	Features	_	_
42-27	7190-7193	The	_	_
42-28	7194-7201	library	_	_
42-29	7202-7204	is	_	_
42-30	7205-7213	intended	_	_
42-31	7214-7216	to	_	_
42-32	7217-7221	help	_	_
42-33	7222-7227	users	_	_
42-34	7228-7236	simulate	_	_
42-35	7237-7243	secure	_	_
42-36	7244-7253	federated	_	_
42-37	7254-7262	learning	_	_
42-38	7263-7265	to	_	_
42-39	7266-7272	decide	_	_
42-40	7273-7280	whether	_	_
42-41	7281-7283	it	_	_
42-42	7284-7289	would	_	_
42-43	7290-7292	be	_	_
42-44	7293-7301	feasible	_	_
42-45	7302-7305	and	_	_
42-46	7306-7316	beneficial	_	_
42-47	7316-7317	.	_	_

#Text=A snippet of a sample output looks like: ``` Performance Metrics for client\_agent2 on iteration 1  -------------------------------------------  Personal accuracy: 0.8283333333333334  Personal computation time: 0:00:01.194242  Federated accuracy: 0.8566666666666667  Simulated time to receive federated weights: 0:00:07.202375   Performance Metrics for client\_agent0 on iteration 1  -------------------------------------------  Personal accuracy: 0.8216666666666667  Personal computation time: 0:00:01.198737  Federated accuracy: 0.8566666666666667  Simulated time to receive federated weights: 0:00:09.202375  ``` As you can see, the simulation prints out i) the personal accuracy: the accuracy that the client can obtain by itself on its own dataset, adding no DP noise.
43-1	7318-7319	A	_	_
43-2	7320-7327	snippet	_	_
43-3	7328-7330	of	_	_
43-4	7331-7332	a	_	_
43-5	7333-7339	sample	_	_
43-6	7340-7346	output	_	_
43-7	7347-7352	looks	_	_
43-8	7353-7357	like	_	_
43-9	7357-7358	:	_	_
43-10	7359-7360	`	_	_
43-11	7360-7361	`	_	_
43-12	7361-7362	`	_	_
43-13	7363-7374	Performance	_	_
43-14	7375-7382	Metrics	_	_
43-15	7383-7386	for	_	_
43-16	7387-7400	client\_agent2	_	_
43-17	7401-7403	on	_	_
43-18	7404-7413	iteration	_	_
43-19	7414-7415	1	_	_
43-20	7417-7418	-	_	_
43-21	7418-7419	-	_	_
43-22	7419-7420	-	_	_
43-23	7420-7421	-	_	_
43-24	7421-7422	-	_	_
43-25	7422-7423	-	_	_
43-26	7423-7424	-	_	_
43-27	7424-7425	-	_	_
43-28	7425-7426	-	_	_
43-29	7426-7427	-	_	_
43-30	7427-7428	-	_	_
43-31	7428-7429	-	_	_
43-32	7429-7430	-	_	_
43-33	7430-7431	-	_	_
43-34	7431-7432	-	_	_
43-35	7432-7433	-	_	_
43-36	7433-7434	-	_	_
43-37	7434-7435	-	_	_
43-38	7435-7436	-	_	_
43-39	7436-7437	-	_	_
43-40	7437-7438	-	_	_
43-41	7438-7439	-	_	_
43-42	7439-7440	-	_	_
43-43	7440-7441	-	_	_
43-44	7441-7442	-	_	_
43-45	7442-7443	-	_	_
43-46	7443-7444	-	_	_
43-47	7444-7445	-	_	_
43-48	7445-7446	-	_	_
43-49	7446-7447	-	_	_
43-50	7447-7448	-	_	_
43-51	7448-7449	-	_	_
43-52	7449-7450	-	_	_
43-53	7450-7451	-	_	_
43-54	7451-7452	-	_	_
43-55	7452-7453	-	_	_
43-56	7453-7454	-	_	_
43-57	7454-7455	-	_	_
43-58	7455-7456	-	_	_
43-59	7456-7457	-	_	_
43-60	7457-7458	-	_	_
43-61	7458-7459	-	_	_
43-62	7459-7460	-	_	_
43-63	7462-7470	Personal	_	_
43-64	7471-7479	accuracy	_	_
43-65	7479-7480	:	_	_
43-66	7481-7499	0.8283333333333334	_	_
43-67	7501-7509	Personal	_	_
43-68	7510-7521	computation	_	_
43-69	7522-7526	time	_	_
43-70	7526-7527	:	_	_
43-71	7528-7529	0	_	_
43-72	7529-7530	:	_	_
43-73	7530-7532	00	_	_
43-74	7532-7533	:	_	_
43-75	7533-7542	01.194242	_	_
43-76	7544-7553	Federated	_	_
43-77	7554-7562	accuracy	_	_
43-78	7562-7563	:	_	_
43-79	7564-7582	0.8566666666666667	_	_
43-80	7584-7593	Simulated	_	_
43-81	7594-7598	time	_	_
43-82	7599-7601	to	_	_
43-83	7602-7609	receive	_	_
43-84	7610-7619	federated	_	_
43-85	7620-7627	weights	_	_
43-86	7627-7628	:	_	_
43-87	7629-7630	0	_	_
43-88	7630-7631	:	_	_
43-89	7631-7633	00	_	_
43-90	7633-7634	:	_	_
43-91	7634-7643	07.202375	_	_
43-92	7646-7657	Performance	_	_
43-93	7658-7665	Metrics	_	_
43-94	7666-7669	for	_	_
43-95	7670-7683	client\_agent0	_	_
43-96	7684-7686	on	_	_
43-97	7687-7696	iteration	_	_
43-98	7697-7698	1	_	_
43-99	7700-7701	-	_	_
43-100	7701-7702	-	_	_
43-101	7702-7703	-	_	_
43-102	7703-7704	-	_	_
43-103	7704-7705	-	_	_
43-104	7705-7706	-	_	_
43-105	7706-7707	-	_	_
43-106	7707-7708	-	_	_
43-107	7708-7709	-	_	_
43-108	7709-7710	-	_	_
43-109	7710-7711	-	_	_
43-110	7711-7712	-	_	_
43-111	7712-7713	-	_	_
43-112	7713-7714	-	_	_
43-113	7714-7715	-	_	_
43-114	7715-7716	-	_	_
43-115	7716-7717	-	_	_
43-116	7717-7718	-	_	_
43-117	7718-7719	-	_	_
43-118	7719-7720	-	_	_
43-119	7720-7721	-	_	_
43-120	7721-7722	-	_	_
43-121	7722-7723	-	_	_
43-122	7723-7724	-	_	_
43-123	7724-7725	-	_	_
43-124	7725-7726	-	_	_
43-125	7726-7727	-	_	_
43-126	7727-7728	-	_	_
43-127	7728-7729	-	_	_
43-128	7729-7730	-	_	_
43-129	7730-7731	-	_	_
43-130	7731-7732	-	_	_
43-131	7732-7733	-	_	_
43-132	7733-7734	-	_	_
43-133	7734-7735	-	_	_
43-134	7735-7736	-	_	_
43-135	7736-7737	-	_	_
43-136	7737-7738	-	_	_
43-137	7738-7739	-	_	_
43-138	7739-7740	-	_	_
43-139	7740-7741	-	_	_
43-140	7741-7742	-	_	_
43-141	7742-7743	-	_	_
43-142	7745-7753	Personal	_	_
43-143	7754-7762	accuracy	_	_
43-144	7762-7763	:	_	_
43-145	7764-7782	0.8216666666666667	_	_
43-146	7784-7792	Personal	_	_
43-147	7793-7804	computation	_	_
43-148	7805-7809	time	_	_
43-149	7809-7810	:	_	_
43-150	7811-7812	0	_	_
43-151	7812-7813	:	_	_
43-152	7813-7815	00	_	_
43-153	7815-7816	:	_	_
43-154	7816-7825	01.198737	_	_
43-155	7827-7836	Federated	_	_
43-156	7837-7845	accuracy	_	_
43-157	7845-7846	:	_	_
43-158	7847-7865	0.8566666666666667	_	_
43-159	7867-7876	Simulated	_	_
43-160	7877-7881	time	_	_
43-161	7882-7884	to	_	_
43-162	7885-7892	receive	_	_
43-163	7893-7902	federated	_	_
43-164	7903-7910	weights	_	_
43-165	7910-7911	:	_	_
43-166	7912-7913	0	_	_
43-167	7913-7914	:	_	_
43-168	7914-7916	00	_	_
43-169	7916-7917	:	_	_
43-170	7917-7926	09.202375	_	_
43-171	7928-7929	`	_	_
43-172	7929-7930	`	_	_
43-173	7930-7931	`	_	_
43-174	7932-7934	As	_	_
43-175	7935-7938	you	_	_
43-176	7939-7942	can	_	_
43-177	7943-7946	see	_	_
43-178	7946-7947	,	_	_
43-179	7948-7951	the	_	_
43-180	7952-7962	simulation	_	_
43-181	7963-7969	prints	_	_
43-182	7970-7973	out	_	_
43-183	7974-7975	i	_	_
43-184	7975-7976	)	_	_
43-185	7977-7980	the	_	_
43-186	7981-7989	personal	_	_
43-187	7990-7998	accuracy	_	_
43-188	7998-7999	:	_	_
43-189	8000-8003	the	_	_
43-190	8004-8012	accuracy	_	_
43-191	8013-8017	that	_	_
43-192	8018-8021	the	_	_
43-193	8022-8028	client	_	_
43-194	8029-8032	can	_	_
43-195	8033-8039	obtain	_	_
43-196	8040-8042	by	_	_
43-197	8043-8049	itself	_	_
43-198	8050-8052	on	_	_
43-199	8053-8056	its	_	_
43-200	8057-8060	own	_	_
43-201	8061-8068	dataset	_	_
43-202	8068-8069	,	_	_
43-203	8070-8076	adding	_	_
43-204	8077-8079	no	_	_
43-205	8080-8082	DP	_	_
43-206	8083-8088	noise	_	_
43-207	8088-8089	.	_	_

#Text=NOTE: this quantitiy does incorporate other client's data if you set the config.USING\_CUMULATIVE flag to False, since that indicates to clients that they should start training on this iteration using the federated weights from the previous iteration since the datasets aren't cumulative. ii) the federated accuracy: the accuracy of the federated model which is the average of all the clients' personal weights + differentially private noise for that iteration.
44-1	8090-8094	NOTE	_	_
44-2	8094-8095	:	_	_
44-3	8096-8100	this	_	_
44-4	8101-8110	quantitiy	_	_
44-5	8111-8115	does	_	_
44-6	8116-8127	incorporate	_	_
44-7	8128-8133	other	_	_
44-8	8134-8142	client's	_	_
44-9	8143-8147	data	_	_
44-10	8148-8150	if	_	_
44-11	8151-8154	you	_	_
44-12	8155-8158	set	_	_
44-13	8159-8162	the	_	_
44-14	8163-8186	config.USING\_CUMULATIVE	_	_
44-15	8187-8191	flag	_	_
44-16	8192-8194	to	_	_
44-17	8195-8200	False	_	_
44-18	8200-8201	,	_	_
44-19	8202-8207	since	_	_
44-20	8208-8212	that	_	_
44-21	8213-8222	indicates	_	_
44-22	8223-8225	to	_	_
44-23	8226-8233	clients	_	_
44-24	8234-8238	that	_	_
44-25	8239-8243	they	_	_
44-26	8244-8250	should	_	_
44-27	8251-8256	start	_	_
44-28	8257-8265	training	_	_
44-29	8266-8268	on	_	_
44-30	8269-8273	this	_	_
44-31	8274-8283	iteration	_	_
44-32	8284-8289	using	_	_
44-33	8290-8293	the	_	_
44-34	8294-8303	federated	_	_
44-35	8304-8311	weights	_	_
44-36	8312-8316	from	_	_
44-37	8317-8320	the	_	_
44-38	8321-8329	previous	_	_
44-39	8330-8339	iteration	_	_
44-40	8340-8345	since	_	_
44-41	8346-8349	the	_	_
44-42	8350-8358	datasets	_	_
44-43	8359-8365	aren't	_	_
44-44	8366-8376	cumulative	_	_
44-45	8376-8377	.	_	_
44-46	8378-8380	ii	_	_
44-47	8380-8381	)	_	_
44-48	8382-8385	the	_	_
44-49	8386-8395	federated	_	_
44-50	8396-8404	accuracy	_	_
44-51	8404-8405	:	_	_
44-52	8406-8409	the	_	_
44-53	8410-8418	accuracy	_	_
44-54	8419-8421	of	_	_
44-55	8422-8425	the	_	_
44-56	8426-8435	federated	_	_
44-57	8436-8441	model	_	_
44-58	8442-8447	which	_	_
44-59	8448-8450	is	_	_
44-60	8451-8454	the	_	_
44-61	8455-8462	average	_	_
44-62	8463-8465	of	_	_
44-63	8466-8469	all	_	_
44-64	8470-8473	the	_	_
44-65	8474-8481	clients	_	_
44-66	8481-8482	'	_	_
44-67	8483-8491	personal	_	_
44-68	8492-8499	weights	_	_
44-69	8500-8501	+	_	_
44-70	8502-8516	differentially	_	_
44-71	8517-8524	private	_	_
44-72	8525-8530	noise	_	_
44-73	8531-8534	for	_	_
44-74	8535-8539	that	_	_
44-75	8540-8549	iteration	_	_
44-76	8549-8550	.	_	_

#Text=Note that while the clients benefit from participating in the simulation in this example, that is not always the case.
45-1	8551-8555	Note	_	_
45-2	8556-8560	that	_	_
45-3	8561-8566	while	_	_
45-4	8567-8570	the	_	_
45-5	8571-8578	clients	_	_
45-6	8579-8586	benefit	_	_
45-7	8587-8591	from	_	_
45-8	8592-8605	participating	_	_
45-9	8606-8608	in	_	_
45-10	8609-8612	the	_	_
45-11	8613-8623	simulation	_	_
45-12	8624-8626	in	_	_
45-13	8627-8631	this	_	_
45-14	8632-8639	example	_	_
45-15	8639-8640	,	_	_
45-16	8641-8645	that	_	_
45-17	8646-8648	is	_	_
45-18	8649-8652	not	_	_
45-19	8653-8659	always	_	_
45-20	8660-8663	the	_	_
45-21	8664-8668	case	_	_
45-22	8668-8669	.	_	_

#Text=In particular, as one increases the amount of differentially private noise, the federated accuracy is expected to decrease.
46-1	8670-8672	In	_	_
46-2	8673-8683	particular	_	_
46-3	8683-8684	,	_	_
46-4	8685-8687	as	_	_
46-5	8688-8691	one	_	_
46-6	8692-8701	increases	_	_
46-7	8702-8705	the	_	_
46-8	8706-8712	amount	_	_
46-9	8713-8715	of	_	_
46-10	8716-8730	differentially	_	_
46-11	8731-8738	private	_	_
46-12	8739-8744	noise	_	_
46-13	8744-8745	,	_	_
46-14	8746-8749	the	_	_
46-15	8750-8759	federated	_	_
46-16	8760-8768	accuracy	_	_
46-17	8769-8771	is	_	_
46-18	8772-8780	expected	_	_
46-19	8781-8783	to	_	_
46-20	8784-8792	decrease	_	_
46-21	8792-8793	.	_	_

#Text=On the other hand, the personal accuracy will remain the same since it is assumed you don't add differentially private noise to your personal model since you are not sharing it.
47-1	8794-8796	On	_	_
47-2	8797-8800	the	_	_
47-3	8801-8806	other	_	_
47-4	8807-8811	hand	_	_
47-5	8811-8812	,	_	_
47-6	8813-8816	the	_	_
47-7	8817-8825	personal	_	_
47-8	8826-8834	accuracy	_	_
47-9	8835-8839	will	_	_
47-10	8840-8846	remain	_	_
47-11	8847-8850	the	_	_
47-12	8851-8855	same	_	_
47-13	8856-8861	since	_	_
47-14	8862-8864	it	_	_
47-15	8865-8867	is	_	_
47-16	8868-8875	assumed	_	_
47-17	8876-8879	you	_	_
47-18	8880-8885	don't	_	_
47-19	8886-8889	add	_	_
47-20	8890-8904	differentially	_	_
47-21	8905-8912	private	_	_
47-22	8913-8918	noise	_	_
47-23	8919-8921	to	_	_
47-24	8922-8926	your	_	_
47-25	8927-8935	personal	_	_
47-26	8936-8941	model	_	_
47-27	8942-8947	since	_	_
47-28	8948-8951	you	_	_
47-29	8952-8955	are	_	_
47-30	8956-8959	not	_	_
47-31	8960-8967	sharing	_	_
47-32	8968-8970	it	_	_
47-33	8970-8971	.	_	_

#Text=<br/><br/>  In addition, this library also allows you to simulate how long it would take to receive the federated values back for each iteration.
48-1	8973-8974	<	_	_
48-2	8974-8976	br	_	_
48-3	8976-8977	/	_	_
48-4	8977-8978	>	_	_
48-5	8978-8979	<	_	_
48-6	8979-8981	br	_	_
48-7	8981-8982	/	_	_
48-8	8982-8983	>	_	_
48-9	8985-8987	In	_	_
48-10	8988-8996	addition	_	_
48-11	8996-8997	,	_	_
48-12	8998-9002	this	_	_
48-13	9003-9010	library	_	_
48-14	9011-9015	also	_	_
48-15	9016-9022	allows	_	_
48-16	9023-9026	you	_	_
48-17	9027-9029	to	_	_
48-18	9030-9038	simulate	_	_
48-19	9039-9042	how	_	_
48-20	9043-9047	long	_	_
48-21	9048-9050	it	_	_
48-22	9051-9056	would	_	_
48-23	9057-9061	take	_	_
48-24	9062-9064	to	_	_
48-25	9065-9072	receive	_	_
48-26	9073-9076	the	_	_
48-27	9077-9086	federated	_	_
48-28	9087-9093	values	_	_
48-29	9094-9098	back	_	_
48-30	9099-9102	for	_	_
48-31	9103-9107	each	_	_
48-32	9108-9117	iteration	_	_
48-33	9117-9118	.	_	_

#Text=`Personal computation time` indicates how long your training took for that iteration while `Simulated time to receive federated weights` takes into account user-defined communication latencies between the clients and the server, as well as how long it took the other clients to compute their weights and the server to average them.  ## Authors  Vaikkunth Mugunthan\* Anton Peraire\* Lalana Kagal  ## License  This project is licensed under the MIT License   MIT License  Copyright (c) 2020 Vaikkunth, Anton, Lalana (PrivacyFL)  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
49-1	9119-9120	`	_	_
49-2	9120-9128	Personal	_	_
49-3	9129-9140	computation	_	_
49-4	9141-9145	time	_	_
49-5	9145-9146	`	_	_
49-6	9147-9156	indicates	_	_
49-7	9157-9160	how	_	_
49-8	9161-9165	long	_	_
49-9	9166-9170	your	_	_
49-10	9171-9179	training	_	_
49-11	9180-9184	took	_	_
49-12	9185-9188	for	_	_
49-13	9189-9193	that	_	_
49-14	9194-9203	iteration	_	_
49-15	9204-9209	while	_	_
49-16	9210-9211	`	_	_
49-17	9211-9220	Simulated	_	_
49-18	9221-9225	time	_	_
49-19	9226-9228	to	_	_
49-20	9229-9236	receive	_	_
49-21	9237-9246	federated	_	_
49-22	9247-9254	weights	_	_
49-23	9254-9255	`	_	_
49-24	9256-9261	takes	_	_
49-25	9262-9266	into	_	_
49-26	9267-9274	account	_	_
49-27	9275-9287	user-defined	_	_
49-28	9288-9301	communication	_	_
49-29	9302-9311	latencies	_	_
49-30	9312-9319	between	_	_
49-31	9320-9323	the	_	_
49-32	9324-9331	clients	_	_
49-33	9332-9335	and	_	_
49-34	9336-9339	the	_	_
49-35	9340-9346	server	_	_
49-36	9346-9347	,	_	_
49-37	9348-9350	as	_	_
49-38	9351-9355	well	_	_
49-39	9356-9358	as	_	_
49-40	9359-9362	how	_	_
49-41	9363-9367	long	_	_
49-42	9368-9370	it	_	_
49-43	9371-9375	took	_	_
49-44	9376-9379	the	_	_
49-45	9380-9385	other	_	_
49-46	9386-9393	clients	_	_
49-47	9394-9396	to	_	_
49-48	9397-9404	compute	_	_
49-49	9405-9410	their	_	_
49-50	9411-9418	weights	_	_
49-51	9419-9422	and	_	_
49-52	9423-9426	the	_	_
49-53	9427-9433	server	_	_
49-54	9434-9436	to	_	_
49-55	9437-9444	average	_	_
49-56	9445-9449	them	_	_
49-57	9449-9450	.	_	_
49-58	9452-9453	#	_	_
49-59	9453-9454	#	_	_
49-60	9455-9462	Authors	_	_
49-61	9464-9473	Vaikkunth	_	_
49-62	9474-9483	Mugunthan	_	_
49-63	9483-9484	\*	_	_
49-64	9485-9490	Anton	_	_
49-65	9491-9498	Peraire	_	_
49-66	9498-9499	\*	_	_
49-67	9500-9506	Lalana	_	_
49-68	9507-9512	Kagal	_	_
49-69	9514-9515	#	_	_
49-70	9515-9516	#	_	_
49-71	9517-9524	License	_	_
49-72	9526-9530	This	_	_
49-73	9531-9538	project	_	_
49-74	9539-9541	is	_	_
49-75	9542-9550	licensed	_	_
49-76	9551-9556	under	_	_
49-77	9557-9560	the	_	_
49-78	9561-9564	MIT	_	_
49-79	9565-9572	License	_	_
49-80	9575-9578	MIT	_	_
49-81	9579-9586	License	_	_
49-82	9588-9597	Copyright	_	_
49-83	9598-9599	(	_	_
49-84	9599-9600	c	_	_
49-85	9600-9601	)	_	_
49-86	9602-9606	2020	_	_
49-87	9607-9616	Vaikkunth	_	_
49-88	9616-9617	,	_	_
49-89	9618-9623	Anton	_	_
49-90	9623-9624	,	_	_
49-91	9625-9631	Lalana	_	_
49-92	9632-9633	(	_	_
49-93	9633-9642	PrivacyFL	_	_
49-94	9642-9643	)	_	_
49-95	9645-9655	Permission	_	_
49-96	9656-9658	is	_	_
49-97	9659-9665	hereby	_	_
49-98	9666-9673	granted	_	_
49-99	9673-9674	,	_	_
49-100	9675-9679	free	_	_
49-101	9680-9682	of	_	_
49-102	9683-9689	charge	_	_
49-103	9689-9690	,	_	_
49-104	9691-9693	to	_	_
49-105	9694-9697	any	_	_
49-106	9698-9704	person	_	_
49-107	9705-9714	obtaining	_	_
49-108	9715-9716	a	_	_
49-109	9717-9721	copy	_	_
49-110	9722-9724	of	_	_
49-111	9725-9729	this	_	_
49-112	9730-9738	software	_	_
49-113	9739-9742	and	_	_
49-114	9743-9753	associated	_	_
49-115	9754-9767	documentation	_	_
49-116	9768-9773	files	_	_
49-117	9774-9775	(	_	_
49-118	9775-9778	the	_	_
49-119	9779-9780	"	_	_
49-120	9780-9788	Software	_	_
49-121	9788-9789	"	_	_
49-122	9789-9790	)	_	_
49-123	9790-9791	,	_	_
49-124	9792-9794	to	_	_
49-125	9795-9799	deal	_	_
49-126	9800-9802	in	_	_
49-127	9803-9806	the	_	_
49-128	9807-9815	Software	_	_
49-129	9816-9823	without	_	_
49-130	9824-9835	restriction	_	_
49-131	9835-9836	,	_	_
49-132	9837-9846	including	_	_
49-133	9847-9854	without	_	_
49-134	9855-9865	limitation	_	_
49-135	9866-9869	the	_	_
49-136	9870-9876	rights	_	_
49-137	9877-9879	to	_	_
49-138	9880-9883	use	_	_
49-139	9883-9884	,	_	_
49-140	9885-9889	copy	_	_
49-141	9889-9890	,	_	_
49-142	9891-9897	modify	_	_
49-143	9897-9898	,	_	_
49-144	9899-9904	merge	_	_
49-145	9904-9905	,	_	_
49-146	9906-9913	publish	_	_
49-147	9913-9914	,	_	_
49-148	9915-9925	distribute	_	_
49-149	9925-9926	,	_	_
49-150	9927-9937	sublicense	_	_
49-151	9937-9938	,	_	_
49-152	9939-9942	and	_	_
49-153	9942-9943	/	_	_
49-154	9943-9945	or	_	_
49-155	9946-9950	sell	_	_
49-156	9951-9957	copies	_	_
49-157	9958-9960	of	_	_
49-158	9961-9964	the	_	_
49-159	9965-9973	Software	_	_
49-160	9973-9974	,	_	_
49-161	9975-9978	and	_	_
49-162	9979-9981	to	_	_
49-163	9982-9988	permit	_	_
49-164	9989-9996	persons	_	_
49-165	9997-9999	to	_	_
49-166	10000-10004	whom	_	_
49-167	10005-10008	the	_	_
49-168	10009-10017	Software	_	_
49-169	10018-10020	is	_	_
49-170	10021-10030	furnished	_	_
49-171	10031-10033	to	_	_
49-172	10034-10036	do	_	_
49-173	10037-10039	so	_	_
49-174	10039-10040	,	_	_
49-175	10041-10048	subject	_	_
49-176	10049-10051	to	_	_
49-177	10052-10055	the	_	_
49-178	10056-10065	following	_	_
49-179	10066-10076	conditions	_	_
49-180	10076-10077	:	_	_
49-181	10079-10082	The	_	_
49-182	10083-10088	above	_	_
49-183	10089-10098	copyright	_	_
49-184	10099-10105	notice	_	_
49-185	10106-10109	and	_	_
49-186	10110-10114	this	_	_
49-187	10115-10125	permission	_	_
49-188	10126-10132	notice	_	_
49-189	10133-10138	shall	_	_
49-190	10139-10141	be	_	_
49-191	10142-10150	included	_	_
49-192	10151-10153	in	_	_
49-193	10154-10157	all	_	_
49-194	10158-10164	copies	_	_
49-195	10165-10167	or	_	_
49-196	10168-10179	substantial	_	_
49-197	10180-10188	portions	_	_
49-198	10189-10191	of	_	_
49-199	10192-10195	the	_	_
49-200	10196-10204	Software	_	_
49-201	10204-10205	.	_	_

#Text=THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
50-1	10207-10210	THE	_	_
50-2	10211-10219	SOFTWARE	_	_
50-3	10220-10222	IS	_	_
50-4	10223-10231	PROVIDED	_	_
50-5	10232-10233	"	_	_
50-6	10233-10235	AS	_	_
50-7	10236-10238	IS	_	_
50-8	10238-10239	"	_	_
50-9	10239-10240	,	_	_
50-10	10241-10248	WITHOUT	_	_
50-11	10249-10257	WARRANTY	_	_
50-12	10258-10260	OF	_	_
50-13	10261-10264	ANY	_	_
50-14	10265-10269	KIND	_	_
50-15	10269-10270	,	_	_
50-16	10271-10278	EXPRESS	_	_
50-17	10279-10281	OR	_	_
50-18	10282-10289	IMPLIED	_	_
50-19	10289-10290	,	_	_
50-20	10291-10300	INCLUDING	_	_
50-21	10301-10304	BUT	_	_
50-22	10305-10308	NOT	_	_
50-23	10309-10316	LIMITED	_	_
50-24	10317-10319	TO	_	_
50-25	10320-10323	THE	_	_
50-26	10324-10334	WARRANTIES	_	_
50-27	10335-10337	OF	_	_
50-28	10338-10353	MERCHANTABILITY	_	_
50-29	10353-10354	,	_	_
50-30	10355-10362	FITNESS	_	_
50-31	10363-10366	FOR	_	_
50-32	10367-10368	A	_	_
50-33	10369-10379	PARTICULAR	_	_
50-34	10380-10387	PURPOSE	_	_
50-35	10388-10391	AND	_	_
50-36	10392-10407	NONINFRINGEMENT	_	_
50-37	10407-10408	.	_	_

#Text=IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
51-1	10409-10411	IN	_	_
51-2	10412-10414	NO	_	_
51-3	10415-10420	EVENT	_	_
51-4	10421-10426	SHALL	_	_
51-5	10427-10430	THE	_	_
51-6	10431-10438	AUTHORS	_	_
51-7	10439-10441	OR	_	_
51-8	10442-10451	COPYRIGHT	_	_
51-9	10452-10459	HOLDERS	_	_
51-10	10460-10462	BE	_	_
51-11	10463-10469	LIABLE	_	_
51-12	10470-10473	FOR	_	_
51-13	10474-10477	ANY	_	_
51-14	10478-10483	CLAIM	_	_
51-15	10483-10484	,	_	_
51-16	10485-10492	DAMAGES	_	_
51-17	10493-10495	OR	_	_
51-18	10496-10501	OTHER	_	_
51-19	10502-10511	LIABILITY	_	_
51-20	10511-10512	,	_	_
51-21	10513-10520	WHETHER	_	_
51-22	10521-10523	IN	_	_
51-23	10524-10526	AN	_	_
51-24	10527-10533	ACTION	_	_
51-25	10534-10536	OF	_	_
51-26	10537-10545	CONTRACT	_	_
51-27	10545-10546	,	_	_
51-28	10547-10551	TORT	_	_
51-29	10552-10554	OR	_	_
51-30	10555-10564	OTHERWISE	_	_
51-31	10564-10565	,	_	_
51-32	10566-10573	ARISING	_	_
51-33	10574-10578	FROM	_	_
51-34	10578-10579	,	_	_
51-35	10580-10583	OUT	_	_
51-36	10584-10586	OF	_	_
51-37	10587-10589	OR	_	_
51-38	10590-10592	IN	_	_
51-39	10593-10603	CONNECTION	_	_
51-40	10604-10608	WITH	_	_
51-41	10609-10612	THE	_	_
51-42	10613-10621	SOFTWARE	_	_
51-43	10622-10624	OR	_	_
51-44	10625-10628	THE	_	_
51-45	10629-10632	USE	_	_
51-46	10633-10635	OR	_	_
51-47	10636-10641	OTHER	_	_
51-48	10642-10650	DEALINGS	_	_
51-49	10651-10653	IN	_	_
51-50	10654-10657	THE	_	_
51-51	10658-10666	SOFTWARE	_	_
51-52	10666-10667	.	_	_